(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-buy-step1"],{1201:function(t,i,e){"use strict";var s=e("f23a"),a=e.n(s);a.a},"194a":function(t,i,e){"use strict";e.r(i);var s=e("e763"),a=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},2297:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var s={pageMeta:e("6d42").default,uniNavBar:e("10ee").default,uniPopup:e("cabf").default,uniPopupDialog:e("8594").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("page-meta",{attrs:{"root-font-size":t.fontSize+"px"}}),e("member-base",{attrs:{show:!1}},[e("v-uni-view",{staticClass:"div container"},[e("v-uni-view",{staticClass:"div common-header-wrap"},[e("v-uni-view",{style:"height:"+t.navHeight+"px"}),e("v-uni-view",{staticClass:"common-header-holder"}),e("v-uni-view",{staticClass:"common-header-fixed"},[e("title-header"),e("uni-nav-bar",{staticClass:"common-header",attrs:{title:"确认订单","left-icon":"back"},on:{clickLeft:function(i){arguments[0]=i=t.$handleEvent(i),t.goBack()}}})],1)],1),t.store_final_total_list?e("v-uni-view",{staticClass:"div body"},[e("v-uni-view",{staticClass:"div block-wrapper"},[t.addAddress?e("checkout-address",{staticClass:"address",attrs:{item:t.store_final_total_list.address_info},on:{onclick:function(i){arguments[0]=i=t.$handleEvent(i),t.goAddress.apply(void 0,arguments)}}}):t._e(),t.store_final_total_list.if_presell?e("v-uni-view",{staticClass:"div",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showPopup("togglePresell")}}},[e("flex-line",{staticClass:"menu-item",attrs:{"is-link":!0,"show-border":!0}},[e("v-uni-view",{staticClass:"div"},[e("v-uni-text",{staticClass:"span left-icon iconfont"},[t._v("")]),e("v-uni-text",{staticClass:"span"},[t._v("支付金额")])],1),e("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[t._v(t._s("1"==t.presell_pay?"全额支付":"先付定金"))])],1)],1):t._e(),1==t.store_final_total_list.address_api.allow_offpay&&t.store_final_total_list.ifshow_offpay?e("v-uni-view",{staticClass:"div",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showPopup("togglePay")}}},[e("flex-line",{staticClass:"menu-item",attrs:{"is-link":!0,"show-border":!0}},[e("v-uni-view",{staticClass:"div"},[e("v-uni-text",{staticClass:"span left-icon iconfont"},[t._v("")]),e("v-uni-text",{staticClass:"span"},[t._v("付款方式")])],1),e("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.pay_name))])],1)],1):t._e(),e("v-uni-view",{staticClass:"div",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goNavigate("/pages/member/invoice/InvoiceList",{isFromCheckout:!0,goBackLevel:1,invoice_id:t.invoice_id,vat_deny:t.store_final_total_list.vat_deny,params:JSON.stringify(t.option)})}}},[e("flex-line",{staticClass:"menu-item",attrs:{"is-link":!0,"show-border":!0}},[e("v-uni-view",{staticClass:"div"},[e("v-uni-text",{staticClass:"span left-icon iconfont"},[t._v("")]),e("v-uni-text",{staticClass:"span"},[t._v("发票")])],1),e("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.invoice_content))])],1)],1),""!=t.myMallVoucher?e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showPopup("mallvoucherVisible")}}},[e("flex-line",{staticClass:"menu-item",attrs:{"is-link":!0,"show-border":!0}},[e("v-uni-view",[e("v-uni-text",{staticClass:"left-icon iconfont"},[t._v("")]),e("v-uni-text",[t._v("平台代金券")])],1),e("v-uni-text",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.myMallVoucherprice))])],1)],1):t._e()],1),e("checkout-store",{staticClass:"section-header",attrs:{addressInfo:t.store_final_total_list.address_info,payGoodsList:t.store_final_total_list.pay_goods_list,finalTotalList:t.store_final_total_list.store_final_total_list,addressApi:t.store_final_total_list.address_api,storeCartList:t.store_final_total_list.store_cart_list,ifshowOffpay:t.store_final_total_list.ifshow_offpay},on:{selectVoucher:function(i){arguments[0]=i=t.$handleEvent(i),t.selectVoucher.apply(void 0,arguments)},selectChain:function(i){arguments[0]=i=t.$handleEvent(i),t.selectChain.apply(void 0,arguments)},changeMessage:function(i){arguments[0]=i=t.$handleEvent(i),t.changeMessage.apply(void 0,arguments)}}})],1):t._e(),t.store_final_total_list&&0==t.store_final_total_list.limit?e("v-uni-view",{staticClass:"div bottom-wrapper"},[t.f_code_check||1!=t.store_final_total_list.store_cart_list_api[0].goods_list[0].is_goodsfcode?e("v-uni-view",{staticClass:"div amount-wrapper"},[e("v-uni-view",{staticClass:"div common-btn ds-button-large",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkout.apply(void 0,arguments)}}},[t._v("提交订单")])],1):e("flex-line",{staticClass:"field-line"},[e("v-uni-text",{staticClass:"span field-name"},[t._v("F码")]),e("v-uni-view",{staticClass:"div field-line-right",attrs:{slot:"right"},slot:"right"},[e("v-uni-input",{staticClass:"field-input",attrs:{placeholder:"请填写F码"},model:{value:t.f_code,callback:function(i){t.f_code=i},expression:"f_code"}}),e("v-uni-view",{staticClass:"div common-btn ds-button-small",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkfcode.apply(void 0,arguments)}}},[t._v("使用")])],1)],1)],1):e("v-uni-view",{staticClass:"div bottom-wrapper"},[e("v-uni-view",{staticClass:"div amount-wrapper"},[e("v-uni-view",{staticClass:"div common-btn ds-button-large"},[t._v("该地区不可购买，请更换收货地区")])],1)],1),e("uni-popup",{ref:"togglePay",attrs:{"background-color":"#fff",type:"right"}},[e("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+t.screenWidth+"px"},[e("v-uni-view",{staticClass:"div common-header-wrap"},[e("v-uni-view",{style:"height:"+t.navHeight+"px"}),e("v-uni-view",{staticClass:"common-header-holder"}),e("v-uni-view",{staticClass:"common-header-fixed"},[e("title-header"),e("uni-nav-bar",{staticClass:"common-header",attrs:{title:"付款方式","left-icon":"back"},on:{clickLeft:function(i){arguments[0]=i=t.$handleEvent(i),t.hidePopup("togglePay")}}})],1)],1),e("v-uni-view",{staticClass:"div common-popup-content"},[e("v-uni-scroll-view",{staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"}},[e("v-uni-radio-group",{staticClass:"radio-wrapper",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.radioChange(1,i)}}},t._l(t.pay_options,(function(i,s){return e("v-uni-view",{key:s,staticClass:"radio-item"},[e("v-uni-radio",{attrs:{value:i.value,checked:t.pay_code==i.value}}),e("v-uni-text",[t._v(t._s(i.label))])],1)})),1)],1)],1)],1)],1),e("uni-popup",{ref:"togglePresell",attrs:{"background-color":"#fff",type:"right"}},[e("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+t.screenWidth+"px"},[e("v-uni-view",{staticClass:"div common-header-wrap"},[e("v-uni-view",{style:"height:"+t.navHeight+"px"}),e("v-uni-view",{staticClass:"common-header-holder"}),e("v-uni-view",{staticClass:"common-header-fixed"},[e("title-header"),e("uni-nav-bar",{staticClass:"common-header",attrs:{title:"支付金额","left-icon":"back"},on:{clickLeft:function(i){arguments[0]=i=t.$handleEvent(i),t.hidePopup("togglePresell")}}})],1)],1),e("v-uni-view",{staticClass:"div common-popup-content"},[e("v-uni-scroll-view",{staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"}},[e("v-uni-radio-group",{staticClass:"radio-wrapper",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.radioChange(2,i)}}},t._l(t.presell_options,(function(i,s){return e("v-uni-view",{key:s,staticClass:"radio-item"},[e("v-uni-radio",{attrs:{value:i.value,checked:t.presell_pay==i.value}}),e("v-uni-text",[t._v(t._s(i.label))])],1)})),1),e("v-uni-view",{staticClass:"div desc-text"},[t._v("定金下单后，若非商城或商家责任，定金恕不退还")])],1)],1)],1)],1),e("uni-popup",{ref:"mallvoucherVisible",attrs:{"background-color":"#fff",type:"right"}},[e("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+t.screenWidth+"px"},[e("v-uni-view",{staticClass:"div common-header-wrap"},[e("v-uni-view",{style:"height:"+t.navHeight+"px"}),e("v-uni-view",{staticClass:"common-header-holder"}),e("v-uni-view",{staticClass:"common-header-fixed"},[e("title-header"),e("uni-nav-bar",{staticClass:"common-header",attrs:{title:"平台代金券","left-icon":"back"},on:{clickLeft:function(i){arguments[0]=i=t.$handleEvent(i),t.hidePopup("mallvoucherVisible")}}},[e("v-uni-view",{staticClass:"div common-btn btn",attrs:{slot:"right"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectMallVoucher("")}},slot:"right"},[t._v("不使用")])],1)],1)],1),e("v-uni-view",{staticClass:"div common-popup-content"},[e("v-uni-scroll-view",{staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"}},t._l(t.myMallVoucher,(function(i,s){return e("v-uni-view",{key:i.mallvoucheruser_id,staticClass:"div common-voucher common-voucher02",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectMallVoucher(i)}}},[e("v-uni-view",{staticClass:"div par"},[e("v-uni-view",{staticClass:"p"},[t._v("订单满"+t._s(i.mallvoucheruser_limit)+"元")]),e("v-uni-text",{staticClass:"sub sign"},[t._v("￥")]),e("v-uni-text",{staticClass:"span"},[t._v(t._s(i.mallvoucheruser_price))])],1),e("v-uni-view",{staticClass:"div copy"},[t._v("有效期至"),e("v-uni-view",{staticClass:"p"},[e("br"),t._v(t._s(t.$moment.unix(i.mallvoucheruser_enddate).format("YYYY.MM.DD")))])],1),e("v-uni-text",{staticClass:"i"})],1)})),1)],1)],1)],1)],1),e("uni-popup",{ref:"confirm",attrs:{"background-color":"#fff",type:"dialog"}},[e("uni-popup-dialog",{attrs:{mode:t.dialog.mode,title:t.dialog.title,content:t.dialog.content,placeholder:t.dialog.content},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.confirmDialog.apply(void 0,arguments)},close:function(i){arguments[0]=i=t.$handleEvent(i),t.closeDialog.apply(void 0,arguments)}}})],1)],1)],1)},n=[]},"26b6":function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.common-header .btn[data-v-55d97260]{background:#000;color:#fff;box-shadow:0 2px 4px #d2d2d2}.container[data-v-55d97260]{background:#fff;padding:0 .6rem}.store[data-v-55d97260]{position:relative;z-index:1;display:block;height:.9rem;padding:.5rem 0;font-size:.7rem;line-height:.9rem;background:#fff;font-weight:700}.store .i[data-v-55d97260]{font-size:.8rem;margin-right:.2rem;color:#fb2630}.cart-item[data-v-55d97260]{background-color:#fff}.buy-item[data-v-55d97260]{display:block;position:relative;z-index:1;margin:.5rem 0;box-shadow:0 4px 4px #f7f7f7}.buy-item .goods-pic[data-v-55d97260]{display:block;width:3rem;height:3rem;position:absolute;z-index:1;top:0;left:0}.buy-item .goods-pic .img[data-v-55d97260]{width:100%;height:100%;border-radius:.2rem}.buy-item .goods-info[data-v-55d97260]{display:block;vertical-align:top;min-height:3.1rem;margin-left:4rem;position:relative;z-index:1}.buy-item .goods-info .link[data-v-55d97260]{font-size:.7rem;color:#fb2630;margin-top:.3rem}.buy-item .goods-info .goods-name[data-v-55d97260]{height:1.6rem;font-size:.7rem;line-height:.8rem;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;box-orient:vertical;margin-bottom:.5rem;font-weight:400}.buy-item .goods-info .goods-name .tag-icon[data-v-55d97260]{vertical-align:top}.buy-item .goods-info .goods-type[data-v-55d97260]{overflow:hidden;white-space:nowrap;width:70%;height:.9rem;font-size:.5rem;line-height:.9rem;color:#999;text-overflow:ellipsis}.buy-item .goods-info .goods-original-price[data-v-55d97260]{text-decoration:line-through;font-size:.6rem;color:#a2a6ad;font-weight:400}.buy-item .goods-info .goods-subtotal[data-v-55d97260]{display:block;height:1rem;margin:0 .5rem 0 0;line-height:1rem;font-size:.7rem;position:relative;z-index:1}.buy-item .goods-info .goods-subtotal .goods-price[data-v-55d97260]{color:#db4453;font-size:.7rem;font-weight:600}.buy-item .goods-info .goods-subtotal .goods-count[data-v-55d97260]{font-size:.7rem;line-height:1rem;position:absolute;z-index:1;top:0;right:0;font-weight:400;color:#a2a6ad}.cart-subtotal .dl[data-v-55d97260]{position:relative;z-index:1;height:1rem;padding:.4rem 0 0;font-size:0}.cart-subtotal .dt[data-v-55d97260]{position:absolute;z-index:1;top:.4rem;left:.4rem;display:block;width:50%;height:1rem;font-size:.6rem;line-height:1rem}.cart-subtotal .dd[data-v-55d97260]{height:1rem;margin:0 .5rem 0 50%;text-align:right;font-size:.6rem;line-height:1rem}.cart-subtotal .message[data-v-55d97260]{position:relative;z-index:1;display:block;border-bottom:1px dashed #eee}.cart-subtotal .message .order-message[data-v-55d97260]{background:#fbfbfb;margin:.5rem 0;font-size:.6rem;padding:.5rem;height:4rem;border:0;box-sizing:border-box;width:100%}.desc-item[data-v-55d97260]{height:1.5rem}.common-voucher[data-v-55d97260]{margin:.5rem auto}.left-icon[data-v-55d97260]{float:left;font-size:.9rem;margin-right:.2rem}.chain-item[data-v-55d97260]{padding:.5rem}.chain-item .chain-name[data-v-55d97260]{font-size:.8rem;margin-bottom:.3rem}.chain-item .chain-desc[data-v-55d97260]{font-size:.6rem;color:#666}.field-line-right .field-input[data-v-55d97260]{text-align:left!important}',""]),t.exports=i},"2e55":function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("flex-line",{attrs:{"show-border":!0}},[e("v-uni-label",{staticClass:"title"},[t._v(t._s(t.title))]),e("v-uni-view",{staticClass:"div",attrs:{slot:"right"},slot:"right"},[t.discount?e("v-uni-label",{staticClass:"subtitle discount"},[t._v("-￥"+t._s(t.subtitle))]):e("v-uni-label",{staticClass:"subtitle"},[t._v("￥"+t._s(t.subtitle))])],1)],1)},a=[]},4505:function(t,i,e){"use strict";e.r(i);var s=e("abd9"),a=e("194a");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("e889");var o=e("f0c5"),r=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"55d97260",null,!1,s["a"],void 0);i["default"]=r.exports},"4e26":function(t,i,e){var s=e("db07");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("e4c1df70",s,!0,{sourceMap:!1,shadowMode:!1})},5280:function(t,i,e){"use strict";e.r(i);var s=e("6a15"),a=e("c243");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("ac79");var o=e("f0c5"),r=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"66640c66",null,!1,s["a"],void 0);i["default"]=r.exports},"65ca":function(t,i,e){"use strict";e.r(i);var s=e("84f4"),a=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},"6a15":function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"div container",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onclick.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"div top-wrapper"},[t.hasAddress?e("v-uni-view",{staticClass:"selected-wrapper"},[e("v-uni-view",{staticClass:"div line"},[e("v-uni-text",{staticClass:"i icon iconfont"},[t._v("")]),e("v-uni-view",{staticClass:"div line-content"},[e("v-uni-view",{staticClass:"div title-wrapper"},[e("v-uni-label",{staticClass:"title"},[t._v(t._s(t.item.address_realname))]),e("v-uni-label",{staticClass:"title",staticStyle:{"margin-left":"1rem"}},[t._v(t._s(t.item.address_mob_phone))]),t.isDefault?e("v-uni-label",{staticClass:"default"},[t._v("默认")]):t._e()],1),e("v-uni-view",{staticClass:"div desc address-text"},[t._v(t._s(t.item.area_info)+t._s(t.item.address_detail))]),t.item.cityerror?e("v-uni-view",{staticClass:"div desc address-text-cityerror"},[t._v("门店已失效，请重新编辑收货地址")]):t._e()],1)],1)],1):e("v-uni-view",{staticClass:"div unselected-wrapper"},[e("v-uni-label",{staticClass:"desc"},[t._v("您还没有收货地址，点击这里添加。")])],1)],1)],1)},a=[]},"71de":function(t,i,e){"use strict";e.r(i);var s=e("86d4"),a=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},"82ce":function(t,i,e){var s=e("e579");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("562620a6",s,!0,{sourceMap:!1,shadowMode:!1})},"84f4":function(t,i,e){"use strict";e("7a82");var s=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("14d9");var a=e("9c03"),n=s(e("c657")),o=s(e("19543")),r=e("ed8d"),l=s(e("5280")),c=s(e("4505")),d=s(e("d868")),u={name:"Step1",components:{TitleHeader:n.default,MemberBase:o.default,flexLine:d.default,CheckoutAddress:l.default,CheckoutStore:c.default},computed:{fontSize:function(){return(0,a.getFontSize)()}},data:function(){return{addAddress:!1,navHeight:0,dialog:{},option:{},buy_now:0,pintuan_id:0,pintuangroup_id:0,bargainorder_id:0,screenWidth:0,presell_pay:"1",pay_name:"在线付款",pay_code:"online",pay_options:[{label:"在线付款",value:"online"},{label:"货到付款",value:"offline"}],presell_options:[{label:"全额支付",value:"1"},{label:"先付定金",value:"2"}],pay_list:{online:"在线付款",offline:"货到付款"},hidePay:!1,f_code:"",invoice_id:0,invoice_content:"",f_code_check:!1,cart_id:"",store_final_total_list:null,message:[],chain_goods:[],myMallVoucher:[],myMallVoucherprice:"不使用",mall_voucher_info:""}},watch:{pay_code:function(t){this.pay_name=this.pay_list[t],this.hidePopup("togglePay"),"offline"!=t||this.store_final_total_list.pay_goods_list.online?this.hidePay=!1:this.hidePay=!0}},onLoad:function(t){this.invoice_id=t.invoice_id?t.invoice_id:0,this.invoice_content=t.invoice_content?t.invoice_content:"",this.cart_id=t.cart_id?t.cart_id:"",this.bargainorder_id=t.bargainorder_id,this.buy_now=t.buy_now,this.pintuan_id=t.pintuan_id,this.pintuangroup_id=t.pintuangroup_id,this.option=t},onShow:function(){this.getBuyInfo()},mounted:function(){this.screenWidth=uni.getSystemInfoSync().screenWidth},methods:{radioChange:function(t,i){switch(t){case 1:this.pay_code=i.detail.value;break;case 2:this.presell_pay=i.detail.value;break}},closeDialog:function(){},confirmDialog:function(t){},goNavigate:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];uni.navigateTo({url:t+(i?"?"+(0,a.urlencode)(i):"")})},showPopup:function(t){this.$refs[t].open()},hidePopup:function(t){this.$refs[t].close()},checkfcode:function(){var t=this;(0,r.checkFCode)(this.store_final_total_list.store_cart_list_api[0].goods_list[0].goods_commonid,this.f_code).then((function(i){t.f_code_check=!0})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))},getBuyInfo:function(){var t=this,i={};this.bargainorder_id&&(i["bargainorder_id"]=this.bargainorder_id),(0,r.buyStep1)(this.cart_id,this.buy_now?0:1,this.pintuan_id,this.pintuangroup_id,i).then((function(i){1e4===i.code&&(t.store_final_total_list=i.result,t.myMallVoucher=i.result.mall_voucher_list,t.addAddress=!0,t.invoice_content?t.store_final_total_list.inv_info.invoice_id||(t.invoice_id=0,t.invoice_content=t.store_final_total_list.inv_info.invoice_title):(t.invoice_content=t.store_final_total_list.inv_info.invoice_title,t.store_final_total_list.inv_info.invoice_id&&(t.invoice_id=t.store_final_total_list.inv_info.invoice_id)))})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))},goBack:function(){uni.navigateBack({delta:1})},selectVoucher:function(t,i){this.store_final_total_list.store_cart_list[i].store_voucher_info=t},selectMallVoucher:function(t){this.hidePopup("mallvoucherVisible"),this.mall_voucher_info=t,this.mall_voucher_info?this.myMallVoucherprice=this.mall_voucher_info.mallvoucheruser_price+"元":this.myMallVoucherprice="不使用"},selectChain:function(t,i){this.store_final_total_list.store_cart_list[i].chain_goods=t[i]},goAddress:function(){this.store_final_total_list.address_info?uni.navigateTo({url:"/pages/member/address/AddressList"}):(this.addAddress=!1,uni.navigateTo({url:"/pages/member/address/AddressForm?"+(0,a.urlencode)({action:"add",isFromCheckout:!0,goBackLevel:2})}))},changeMessage:function(t,i){this.message[i]=t},checkout:function(){var t,i,e=this,s=this.buy_now?0:1,n=this.pintuan_id,o=this.pintuangroup_id,l=this.cart_id,c=this.store_final_total_list.address_info?this.store_final_total_list.address_info.address_id:0,d=this.store_final_total_list.vat_hash,u=this.store_final_total_list.address_api.offpay_hash,v=this.store_final_total_list.address_api.offpay_hash_batch,f=this.invoice_id,h=null,_=[],p=this.f_code,m=this.pay_code;if(!c)return this.dialog={content:"您需要先去添加收货地址"},void this.$refs.confirm.open();var g=[];for(var b in this.store_final_total_list.store_cart_list)g.push([this.store_final_total_list.store_cart_list[b].store_voucher_info.vouchertemplate_id+"|"+b+"|"+this.store_final_total_list.store_cart_list[b].store_voucher_info.voucher_price]);t=g.join(","),h="|0.00",""!=this.mall_voucher_info&&(h=this.mall_voucher_info.mallvouchertemplate_id+"|"+this.mall_voucher_info.mallvoucheruser_price);var w,C=[];for(var b in this.store_final_total_list.store_cart_list)this.store_final_total_list.store_cart_list[b].chain_goods&&C.push([b+"|"+this.store_final_total_list.store_cart_list[b].chain_goods.chain_id]);for(w in i=C.join(","),this.store_final_total_list.store_cart_list){var y=this.message[this.store_final_total_list.store_cart_list[w].store_id];"undefined"===typeof y&&(y=""),_.push(this.store_final_total_list.store_cart_list[w].store_id+"|"+y)}var x=_.join(","),k={};this.bargainorder_id&&(k["bargainorder_id"]=this.bargainorder_id),k["chain_goods"]=i,k["presell_pay"]=this.presell_pay,(0,r.buyStep2)(s,l,c,d,u,v,f,t,h,x,n,o,p,m,k).then((function(t){var i=t.result.pay_sn;uni.redirectTo({url:"/pages/member/buy/pay?"+(0,a.urlencode)({pay_sn:i,pay_type:"pay_new"})})})).catch((function(t){e.password="",uni.showToast({icon:"none",title:t.message})}))}}};i.default=u},"86d4":function(t,i,e){"use strict";e("7a82");var s=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(e("d868")),n={props:{title:{},subtitle:{},discount:{default:!1}},components:{flexLine:a.default}};i.default=n},"8e50":function(t,i,e){"use strict";e("7a82");var s=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(e("d868")),n={props:["item"],created:function(){},components:{flexLine:a.default},computed:{hasAddress:function(){return!!this.item||(this.onclick(),!1)},isDefault:function(){return!(!this.item||!this.item.is_default)}},methods:{onclick:function(){this.$emit("onclick")}}};i.default=n},a9ce:function(t,i,e){var s=e("26b6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("516e97df",s,!0,{sourceMap:!1,shadowMode:!1})},abd9:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var s={uniPopup:e("cabf").default,uniNavBar:e("10ee").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.addressApi?e("v-uni-view",{staticClass:"div container"},t._l(t.storeCartList,(function(i,s){return e("v-uni-view",{key:s,staticClass:"div"},[e("v-uni-view",{staticClass:"div cart-item",attrs:{"show-border":!0}},[e("v-uni-view",{staticClass:"div"},[e("v-uni-view",{staticClass:"div store"},[e("v-uni-text",{staticClass:"i iconfont"},[t._v("")]),e("v-uni-text",{staticClass:"span",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNavigate("/pages/home/storedetail/Storedetail",{id:i.store_id})}}},[t._v(t._s(i.store_name))])],1),t._l(i.goods_list,(function(i,s){return e("v-uni-view",{key:s,staticClass:"div buy-item"},[e("v-uni-view",{staticClass:"div goods-pic"},[e("v-uni-image",{staticClass:"img",attrs:{mode:"aspectFit",src:i.goods_image_url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNavigate("/pages/home/goodsdetail/Goodsdetail",{goods_id:i.goods_id})}}})],1),e("v-uni-view",{staticClass:"div goods-info"},[e("v-uni-view",{staticClass:"dl"},[e("v-uni-view",{staticClass:"dt goods-name"},[i.xianshi_info?e("v-uni-text",{staticClass:"i tag-icon"},[t._v(t._s(i.xianshi_info.xianshi_title))]):t._e(),i.ifgroupbuy?e("v-uni-text",{staticClass:"i tag-icon"},[t._v("抢购")]):t._e(),i.ifmgdiscount?e("v-uni-text",{staticClass:"i tag-icon"},[t._v("会员折扣")]):t._e(),i.ifpintuan?e("v-uni-text",{staticClass:"i tag-icon"},[t._v("拼团")]):t._e(),i.ifbargain?e("v-uni-text",{staticClass:"i tag-icon"},[t._v("砍价")]):t._e(),i.bl_id?e("v-uni-text",{staticClass:"i tag-icon"},[t._v("优惠套装")]):t._e(),t._v(t._s(i.goods_name))],1),e("v-uni-view",{staticClass:"dd goods-subtotal"},[e("v-uni-text",{staticClass:"span goods-price"},[t._v("￥"+t._s(i.goods_price))]),i.goods_price<i.goods_original_price?e("v-uni-text",{staticClass:"span ml-5 goods-original-price"},[t._v("￥"+t._s(i.goods_original_price))]):t._e(),e("v-uni-text",{staticClass:"span goods-count"},[t._v("×"+t._s(i.goods_num))])],1),e("v-uni-view",{staticClass:"dd"},[t.goodsCount>1&&t.chainList[i.goods_id]&&t.chainList[i.goods_id].length?e("v-uni-view",{staticClass:"div link",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBuy(i.goods_id,i.goods_num)}}},[t._v("当前地区可以使用自提点(选择自提点后只能单个商品结算)")]):e("v-uni-view",{staticClass:"div"},[1==t.addressApi.allow_offpay&&t.ifshowOffpay&&t.offlineList[i.goods_id]?e("v-uni-view",{staticClass:"div link"},[t._v("该商品支持货到付款")]):t._e()],1),1==i.limit?e("v-uni-view",{staticClass:"div link"},[t._v("该商品不支持配送到此收货地址")]):t._e()],1)],1)],1)],1)})),i.store_mansong_rule_list&&0!=i.store_mansong_rule_list.goods_id&&""!=i.store_mansong_rule_list.mansong_goods_name?e("v-uni-view",{staticClass:"div buy-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNavigate("/pages/home/goodsdetail/Goodsdetail",{goods_id:i.store_mansong_rule_list.goods_id})}}},[e("v-uni-view",{staticClass:"div goods-pic"},[e("v-uni-image",{staticClass:"img",attrs:{mode:"aspectFit",src:i.store_mansong_rule_list.goods_image_url}})],1),e("v-uni-view",{staticClass:"div goods-info"},[e("v-uni-view",{staticClass:"dl"},[e("v-uni-view",{staticClass:"dt goods-name"},[e("v-uni-text",{staticClass:"i tag-icon"},[t._v("赠品")]),t._v(t._s(i.store_mansong_rule_list.mansong_goods_name))],1),e("v-uni-view",{staticClass:"dd goods-subtotal"},[e("v-uni-text",{staticClass:"span goods-price"},[t._v("￥0.00")]),e("v-uni-text",{staticClass:"span goods-count"},[t._v("×1")])],1)],1)],1)],1):t._e()],2)],1),e("v-uni-view",{staticClass:"div cart-subtotal"},[t.chainCount[i.store_id]>0?e("v-uni-view",{staticClass:"div",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showChain(i.store_id)}}},[e("flex-line",{staticClass:"menu-item",attrs:{"is-link":!0,"show-border":!0}},[e("v-uni-view",{staticClass:"div"},[e("v-uni-text",{staticClass:"span left-icon iconfont"},[t._v("")]),e("v-uni-text",{staticClass:"span"},[t._v("自提门店")])],1),e("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.chainInfo[i.store_id]?t.chainInfo[i.store_id].chain_addressname:"请选择"))])],1)],1):t._e(),i.store_voucher_list.length?e("v-uni-view",{staticClass:"div",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showVoucher(i.store_id)}}},[e("flex-line",{staticClass:"menu-item",attrs:{"is-link":!0,"show-border":!0}},[e("v-uni-view",{staticClass:"div"},[e("v-uni-text",{staticClass:"span left-icon iconfont"},[t._v("")]),e("v-uni-text",{staticClass:"span"},[t._v("代金券")])],1),e("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.myVoucher[i.store_id]))])],1)],1):t._e(),e("v-uni-view",{staticClass:"div message"},[e("v-uni-view",{staticClass:"div field-line-right"},[e("v-uni-textarea",{staticClass:"order-message field-input",attrs:{placeholder:"店铺订单留言:"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeMessage(i.store_id)}},model:{value:t.message[i.store_id],callback:function(e){t.$set(t.message,i.store_id,e)},expression:"message[store.store_id]"}})],1)],1),e("checkout-desc",{staticClass:"desc-item mt-5",attrs:{title:"商品金额",subtitle:i.store_goods_original_total}}),i.store_mansong_rule_list||i.store_goods_discount_total>0?e("checkout-desc",{staticClass:"desc-item",attrs:{title:"优惠",subtitle:Math.round(100*((i.store_mansong_rule_list.discount?parseFloat(i.store_mansong_rule_list.discount):0)+parseFloat(i.store_goods_discount_total)))/100,discount:!0}}):t._e(),e("checkout-desc",{staticClass:"desc-item",attrs:{title:"运费",subtitle:t.chainInfo[i.store_id]||"fail"==t.addressApi.state?0:t.addressApi.content[i.store_id]}}),e("checkout-desc",{staticClass:"desc-item",attrs:{title:"本店合计",subtitle:t.totalAmount[i.store_id]}})],1),e("uni-popup",{ref:"voucherVisible_"+i.store_id,refInFor:!0,attrs:{"background-color":"#fff",type:"right"}},[e("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+t.screenWidth+"px"},[e("v-uni-view",{staticClass:"div common-header-wrap"},[e("v-uni-view",{style:"height:"+t.navHeight+"px"}),e("v-uni-view",{staticClass:"common-header-holder"}),e("v-uni-view",{staticClass:"common-header-fixed"},[e("title-header"),e("uni-nav-bar",{staticClass:"common-header",attrs:{title:"代金券","left-icon":"back"},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.hideVoucher(i.store_id)}}},[e("v-uni-view",{staticClass:"div common-btn btn",attrs:{slot:"right"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectVoucher("",i.store_id)}},slot:"right"},[t._v("不使用")])],1)],1)],1),e("v-uni-view",{staticClass:"div common-popup-content"},[e("v-uni-scroll-view",{staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"}},t._l(i.store_voucher_list,(function(s,a){return e("v-uni-view",{key:s.voucher_id,staticClass:"div common-voucher common-voucher02",class:1!=s.voucher_state?"disable":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectVoucher(s,i.store_id)}}},[e("v-uni-view",{staticClass:"div par"},[e("v-uni-view",{staticClass:"p"},[t._v("订单满"+t._s(s.voucher_limit)+"元")]),e("v-uni-text",{staticClass:"sub sign"},[t._v("￥")]),e("v-uni-text",{staticClass:"span"},[t._v(t._s(s.voucher_price))])],1),e("v-uni-view",{staticClass:"div copy"},[t._v("有效期至"),e("v-uni-view",{staticClass:"p"},[e("br"),t._v(t._s(t.$moment.unix(s.voucher_enddate).format("YYYY.MM.DD")))])],1),e("v-uni-text",{staticClass:"i"})],1)})),1)],1)],1)],1),e("uni-popup",{ref:"chainVisible_"+i.store_id,refInFor:!0,attrs:{"background-color":"#fff",type:"right"}},[e("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+t.screenWidth+"px"},[e("v-uni-view",{staticClass:"div common-header-wrap"},[e("v-uni-view",{style:"height:"+t.navHeight+"px"}),e("v-uni-view",{staticClass:"common-header-holder"}),e("v-uni-view",{staticClass:"common-header-fixed"},[e("title-header"),e("uni-nav-bar",{staticClass:"common-header",attrs:{title:"自提门店","left-icon":"back"},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.hideChain(i.store_id)}}},[e("v-uni-view",{staticClass:"div common-btn btn",attrs:{slot:"right"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectChain("",i.store_id)}},slot:"right"},[t._v("不使用")])],1)],1)],1),e("v-uni-view",{staticClass:"div common-popup-content"},[e("v-uni-scroll-view",{staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"}},t._l(t.chainList[i.store_id],(function(s,a){return e("v-uni-view",{key:a,staticClass:"div chain-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectChain(s,i.store_id)}}},[e("v-uni-view",{staticClass:"div chain-name"},[t._v(t._s(s.chain_addressname))]),e("v-uni-view",{staticClass:"div chain-desc"},[t._v(t._s(s.chain_area_info)+t._s(s.chain_address))])],1)})),1)],1)],1)],1)],1)})),1):t._e()},n=[]},ac79:function(t,i,e){"use strict";var s=e("82ce"),a=e.n(s);a.a},b309:function(t,i,e){"use strict";e.r(i);var s=e("2297"),a=e("65ca");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("ea45");var o=e("f0c5"),r=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"283ea826",null,!1,s["a"],void 0);i["default"]=r.exports},c243:function(t,i,e){"use strict";e.r(i);var s=e("8e50"),a=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},c2d8:function(t,i,e){"use strict";e.r(i);var s=e("2e55"),a=e("71de");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("1201");var o=e("f0c5"),r=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"8a890112",null,!1,s["a"],void 0);i["default"]=r.exports},db07:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.common-header .btn[data-v-283ea826]{background:#000;color:#fff;box-shadow:0 2px 4px #d2d2d2}.block-wrapper[data-v-283ea826]{background:#fff;padding:0 .6rem}.container[data-v-283ea826]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.header[data-v-283ea826]{height:2.2rem;color:#48505d;font-size:.9rem;background-color:#fff;padding:.1rem 0;border-bottom:1px solid #e8eaed}.body[data-v-283ea826]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;margin-bottom:4rem}.goods[data-v-283ea826]{height:4.5rem}.item[data-v-283ea826]{height:2.5rem}.section-header[data-v-283ea826]{margin-top:.4rem}.section-footer[data-v-283ea826]{margin-bottom:.4rem}.comment[data-v-283ea826]{height:7.25rem}.desc[data-v-283ea826]{background-color:#fff;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;padding-top:.5rem;padding-bottom:.5rem}.desc-item[data-v-283ea826]{height:1.5rem}.bottom-wrapper[data-v-283ea826]{z-index:1;background:#fff;position:fixed;left:0;right:0;bottom:0;padding:.5rem 0;display:flex;flex-direction:row;justify-content:flex-start;align-items:stretch}.amount-wrapper[data-v-283ea826]{flex:1;background-color:#fff;margin:0 .6rem}.amount[data-v-283ea826]{flex:1;font-size:.8rem;color:#fb2630;text-align:right;padding-right:.75rem}.submit[data-v-283ea826]{width:7.5rem;height:2.5rem;border-radius:0}.left-icon[data-v-283ea826]{float:left;font-size:.9rem;margin-right:.2rem}.desc-text[data-v-283ea826]{font-size:.7rem;color:#999;padding:1rem}.radio-wrapper[data-v-283ea826]{display:block;padding:0 .6rem}.radio-wrapper .radio-item[data-v-283ea826]{padding:.5rem 0;border-bottom:1px dashed #f5f5f5}.common-voucher[data-v-283ea826]{margin:.5rem auto}',""]),t.exports=i},e579:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-66640c66]{background-color:#fff}.line[data-v-66640c66]{display:flex}.line .line-content[data-v-66640c66]{flex:1}.top-wrapper[data-v-66640c66]{background-color:#fff}.title-wrapper[data-v-66640c66]{height:1rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.icon[data-v-66640c66]{font-size:.9rem;margin-right:.2rem;color:#fb2630}.title[data-v-66640c66]{font-size:.75rem;color:#333;font-weight:700}.default[data-v-66640c66]{width:1.4rem;margin-left:.5rem;margin-right:.5rem;border:1px solid #fb2630;color:#fb2630;font-size:.5rem;text-align:center;border-radius:.1rem}.desc[data-v-66640c66]{color:#a2a6ad;font-size:.7rem}.address-text[data-v-66640c66]{margin-top:.3rem;font-weight:400}.address-text-cityerror[data-v-66640c66]{margin-top:.3rem;font-weight:400;color:#ff4040}.selected-wrapper[data-v-66640c66]{padding:1rem 0;border-bottom:1px dashed #eee}.unselected-wrapper[data-v-66640c66]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2rem 0}.indicator[data-v-66640c66]{height:.6rem;margin-left:.5rem;margin-right:.6rem}.line-wrapper[data-v-66640c66]{background:#eee;left:0;right:0;bottom:0;width:100%;height:.1rem}',""]),t.exports=i},e763:function(t,i,e){"use strict";e("7a82");var s=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("e9c4"),e("acd8"),e("a434");var a=s(e("c657")),n=e("9c03"),o=e("ed8d"),r=s(e("c2d8")),l=s(e("d868")),c={name:"CheckoutStore",data:function(){return{navHeight:0,screenWidth:0,totalAmount:{},myVoucher:[],message:[],chainList:{},offlineList:{},goodsCount:0,chainCount:[],chainInfo:[],goodsInfo:!1}},components:{TitleHeader:a.default,flexLine:l.default,CheckoutDesc:r.default},props:["payGoodsList","addressInfo","storeCartList","addressApi","finalTotalList","ifshowOffpay"],created:function(){if(this.payGoodsList.offline){var t={};for(var i in this.payGoodsList.offline)t[this.payGoodsList.offline[i].goods_id]=1;this.offlineList=t}for(var e in this.storeCartList)if(this.calcOrder(e),this.addressInfo){var s=JSON.stringify(this.storeCartList[e].goods_list);this.getbuyChainList(s,this.addressInfo.area_id,e)}},mounted:function(){this.screenWidth=uni.getSystemInfoSync().screenWidth},methods:{goNavigate:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];uni.navigateTo({url:t+(i?"?"+(0,n.urlencode)(i):"")})},showPopup:function(t){this.$refs[t][0].open()},hidePopup:function(t){this.$refs[t][0].close()},goBuy:function(t,i){var e={buy_now:1,cart_id:t+"|"+i};uni.navigateTo({url:"/pages/member/buy/step1?"+(0,n.urlencode)(e)})},selectChain:function(t,i){this.chainInfo[i]=""===t?"":t,this.calcOrder(i),this.$emit("selectChain",this.chainInfo,i),this.hideChain(i),this.$forceUpdate()},getbuyChainList:function(t,i,e){var s=this;(0,o.getbuyChainList)(t,i).then((function(t){s.chainList[e]=t.result.chain_list,s.chainCount[e]=s.chainList[e].length,s.$forceUpdate()}))},changeMessage:function(t){this.$emit("changeMessage",this.message[t],t)},selectVoucher:function(t,i){this.hideVoucher(i),this.$emit("selectVoucher",t,i),this.storeCartList[i].store_voucher_info=t,this.calcOrder(i)},calcOrder:function(t){var i=parseFloat(this.finalTotalList[t]);this.storeCartList[t].store_voucher_list.length&&(this.storeCartList[t].store_voucher_info?(i-=parseFloat(this.storeCartList[t].store_voucher_info.voucher_price),"undefined"===typeof this.myVoucher[t]&&(this.myVoucher[t]=""),this.myVoucher.splice(t,1,this.storeCartList[t].store_voucher_info.voucher_price+"元")):this.myVoucher.splice(t,1,"不使用")),this.chainInfo[t]&&(i-=this.addressApi.content[t]),i<0&&(i=0),this.totalAmount[t]=Math.round(100*i)/100},showVoucher:function(t){this.$refs["voucherVisible_"+t][0].open()},hideVoucher:function(t){this.$refs["voucherVisible_"+t][0].close()},showChain:function(t){this.$refs["chainVisible_"+t][0].open()},hideChain:function(t){this.$refs["chainVisible_"+t][0].close()}}};i.default=c},e889:function(t,i,e){"use strict";var s=e("a9ce"),a=e.n(s);a.a},ea45:function(t,i,e){"use strict";var s=e("4e26"),a=e.n(s);a.a},f23a:function(t,i,e){var s=e("fed7");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("51f69001",s,!0,{sourceMap:!1,shadowMode:!1})},fed7:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.title[data-v-8a890112]{width:5rem;font-size:.7rem;color:#333}.subtitle[data-v-8a890112]{flex:1;margin-left:1rem;color:#333;font-size:.75rem;text-align:right}.subtitle.discount[data-v-8a890112]{color:#fb2630}',""]),t.exports=i}}]);