(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-map-Map"],{"0155":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.common-map-select[data-v-06e3eae1]{background:#fff;position:absolute;width:100%;height:100%}.common-map-select .search-wrap[data-v-06e3eae1]{height:2rem;line-height:2rem;position:relative;position:absolute;left:.5rem;top:.6rem;right:.6rem;background:#f5f5f5;display:flex;border-radius:.4rem;overflow:hidden}.common-map-select .search-wrap uni-input[data-v-06e3eae1]{width:100%;height:2rem;line-height:2rem;font-size:.8rem;display:block;background:none;border:0;flex:1}.common-map-select .search-wrap .i[data-v-06e3eae1]{font-size:.9rem;line-height:2rem;display:block;width:2rem;text-align:center}.common-map-select .search-wrap .btn[data-v-06e3eae1]{background:#fb2630;color:#fff;font-size:.7rem;padding:0 .5rem}.common-map-select .result-list[data-v-06e3eae1]{overflow-y:auto;position:absolute;top:3rem;bottom:0;width:100%}.common-map-select .result-list .notice[data-v-06e3eae1]{display:none;padding:1rem .6rem 0 .6rem;font-size:.7rem;color:#aeaeae;line-height:1.5}.common-map-select .result-list .reset[data-v-06e3eae1]{float:right;color:#fb2630}.common-map-select .result-list .current .notice[data-v-06e3eae1], .common-map-select .result-list .nearby .notice[data-v-06e3eae1]{display:block}.common-map-select .result-list .current[data-v-06e3eae1]{box-shadow:0 4px 4px #f7f7f7}.common-map-select .result-list .result-item[data-v-06e3eae1]{padding:.7rem 0;font-size:.8rem;color:#333;border-bottom:1px dashed #eee;margin:0 .6rem}',""]),t.exports=e},"06b7":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5530")),o=n("26cb"),s=n("293d"),r={name:"HomeBase",data:function(){return{page:"",cartNumber:0}},props:{show:{type:Boolean,default:!0}},computed:(0,i.default)((0,i.default)({},(0,o.mapState)({isOnline:function(t){return t.member.isOnline}})),{},{getCarCount:function(){return this.cartNumber>0&&this.cartNumber<100?this.cartNumber:this.cartNumber>=100?"99+":void 0}}),mounted:function(){var t=getCurrentPages(),e=t[t.length-1];this.page={route:e.route,options:e.options},this.page.options&&this.page.options.inviter_id&&this.memberInviterId({inviterId:this.page.options.inviter_id}),this.getCartCount()},methods:(0,i.default)((0,i.default)({},(0,o.mapMutations)({memberInviterId:"memberInviterId"})),{},{getCartCount:function(){var t=this;this.isOnline&&(0,s.cartQuantity)().then((function(e){e&&(t.cartNumber=e.result.cart_count)}))}})};e.default=r},"0c56":function(t,e,n){"use strict";n.r(e);var a=n("8e84"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},2395:function(t,e,n){"use strict";var a=n("39d6"),i=n.n(a);i.a},"273d":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.map-wrapper[data-v-3accb814]{position:absolute;top:2rem;bottom:0;width:100%}',""]),t.exports=e},"39d6":function(t,e,n){var a=n("273d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("66e7e257",a,!0,{sourceMap:!1,shadowMode:!1})},"3b19":function(t,e,n){"use strict";n.r(e);var a=n("7516"),i=n("f00e");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("b536");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"06e3eae1",null,!1,a["a"],void 0);e["default"]=r.exports},4159:function(t,e,n){"use strict";var a=n("9c18"),i=n.n(a);i.a},"41e2":function(t,e,n){"use strict";n.r(e);var a=n("e119"),i=n("0c56");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("2395");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"3accb814",null,!1,a["a"],void 0);e["default"]=r.exports},"5ada":function(t,e,n){"use strict";n.r(e);var a=n("06b7"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"6da2":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5530")),o=n("dffc"),s=n("26cb"),r={name:"MapSelect",data:function(){return{keyword:"",address_list:[],bmap:!1,myMarker:!1,cityCode:0,style:!1}},props:{longitude:{},latitude:{},ifShowCurrent:{type:Boolean,default:!1}},watch:{longitude:function(t,e){t&&this.creatMap()}},computed:(0,i.default)({},(0,s.mapState)({member_point:function(t){return t.member.point}})),mounted:function(){},created:function(){this.longitude&&this.creatMap()},methods:(0,i.default)((0,i.default)({},(0,s.mapMutations)({memberPoint:"memberPoint"})),{},{getPosition:function(){var t=this;uni.showLoading({title:"加载中"}),(0,o.getPosition)((function(e){uni.hideLoading(),1e4===e.code?t.getAddressByPoint(e.result.lat,e.result.lng):uni.showToast({icon:"none",title:e.message})}),!0)},getAddressByPoint:function(t,e){var n=this;(0,o.getAddressByPoint)(t+","+e).then((function(a){n.cityCode=a.result.cityCode,n.memberPoint({point:{lng:e,lat:t,address:a.result.sematic_description,cityCode:a.result.cityCode}})})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))},creatMap:function(){var t=this;this.getAddressByPoint(this.latitude,this.longitude),(0,o.getPointNearby)(this.latitude+","+this.longitude).then((function(e){t.address_list=e.results,t.style=!0})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))},searchAddress:function(){var t=this;(0,o.getAddressByKeyword)(this.keyword,this.cityCode).then((function(e){t.address_list=e.result,t.style=!1})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))},setPosition:function(t,e,n){this.$emit("setPosition",t,e,n,this.cityCode)}})};e.default=r},7516:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"div common-map-select"},[n("v-uni-view",{staticClass:"div search-wrap"},[n("v-uni-text",{staticClass:"i iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchAddress.apply(void 0,arguments)}}},[t._v("")]),n("v-uni-input",{attrs:{type:"text"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),n("v-uni-view",{staticClass:"div btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchAddress.apply(void 0,arguments)}}},[t._v("搜索")])],1),n("v-uni-view",{staticClass:"div result-list"},[t.member_point&&t.style&&t.ifShowCurrent?n("v-uni-view",{staticClass:"div",class:{current:t.style}},[n("v-uni-text",{staticClass:"span notice"},[t._v("当前地址"),n("v-uni-text",{staticClass:"span reset",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getPosition.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"i iconfont"},[t._v("")]),t._v("重新定位")],1)],1),n("v-uni-view",{staticClass:"div"},[n("v-uni-view",{staticClass:"div result-item",staticStyle:{"border-bottom":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setPosition(t.member_point.lat,t.member_point.lng,t.member_point.address)}}},[t._v(t._s(t.member_point.address))])],1)],1):t._e(),n("v-uni-view",{staticClass:"div",class:{nearby:t.style}},[n("v-uni-text",{staticClass:"span notice"},[t._v("附近地址")]),t._l(t.address_list,(function(e,a){return n("v-uni-view",{key:a,staticClass:"div"},[e.location?n("v-uni-view",{staticClass:"div result-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setPosition(e.location.lat,e.location.lng,e.name)}}},[t._v(t._s(e.name))]):t._e()],1)}))],2)],1)],1)},i=[]},8771:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"div home-base"},[a("v-uni-view",{staticClass:"status-holder"}),a("v-uni-view",{staticClass:"content"},[t._t("default")],2),t.show?a("v-uni-view",{staticClass:"div common-footer-wrap"},[a("v-uni-view",{staticClass:"common-footer"},[a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/home/index/Index"==t.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/home/index/Index","open-type":"reLaunch"}},["pages/home/index/Index"==t.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("9469")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("fefe")}}),a("v-uni-text",{staticClass:"span text"},[t._v("首页")])],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/home/goodsclass/Goodsclass"==t.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/home/goodsclass/Goodsclass"}},["pages/home/goodsclass/Goodsclass"==t.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("1ac4")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("2a40")}}),a("v-uni-text",{staticClass:"span text"},[t._v("分类")])],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/home/search/Search"==t.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/home/search/Search"}},["pages/home/search/Search"==t.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("ce48")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("8101")}}),a("v-uni-text",{staticClass:"span text"},[t._v("搜索")])],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/member/cart/Cart"==t.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/member/cart/Cart"}},["pages/member/cart/Cart"==t.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("9837")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("0eaa")}}),a("v-uni-text",{staticClass:"span text"},[t._v("购物车")]),t.cartNumber>0?a("v-uni-text",{staticClass:"span icon"},[t._v(t._s(t.getCarCount))]):t._e()],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/member/index/Index"==t.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/member/index/Index","open-type":"reLaunch"}},["pages/member/index/Index"==t.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("adcc")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:n("56fd")}}),a("v-uni-text",{staticClass:"span text"},[t._v("我的")])],1)],1)],1)],1):t._e()],1)},i=[]},"8e84":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5530")),o=n("9c03"),s=a(n("c657")),r=a(n("c3dc")),c=a(n("3b19")),u=n("26cb"),l=n("dffc"),d={name:"HomeMap",data:function(){return{navHeight:0,lng:0,lat:0}},components:{TitleHeader:s.default,HomeBase:r.default,MapSelect:c.default},mounted:function(){},created:function(){var t=this;(0,l.getPosition)((function(e){1e4===e.code?(t.lat=e.result.lat,t.lng=e.result.lng,t.getAddressByPoint()):(0,l.getPointByIp)().then((function(e){0==e.status?(t.lat=e.content.point.y,t.lng=e.content.point.x,t.getAddressByPoint()):uni.showToast({icon:"none",title:e.message})})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))}),!0)},computed:(0,i.default)({fontSize:function(){return(0,o.getFontSize)()}},(0,u.mapState)({member_point:function(t){return t.member.point}})),methods:(0,i.default)((0,i.default)({goBack:function(){uni.navigateBack({delta:1})}},(0,u.mapMutations)({memberPoint:"memberPoint"})),{},{getAddressByPoint:function(){var t=this;(0,l.getAddressByPoint)(this.lat+","+this.lng).then((function(e){0==e.status?t.memberPoint({point:{lng:t.lng,lat:t.lat,address:e.result.sematic_description,cityCode:e.result.cityCode}}):uni.showToast({icon:"none",title:e.message})})).catch((function(t){uni.showToast({icon:"none",title:t.message})}))},setPosition:function(t,e,n,a){this.memberPoint({point:{lng:e,lat:t,address:n,cityCode:a}}),uni.navigateBack({delta:1})}})};e.default=d},"9c18":function(t,e,n){var a=n("afa7");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("13980295",a,!0,{sourceMap:!1,shadowMode:!1})},a11f:function(t,e,n){var a=n("0155");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("47c35011",a,!0,{sourceMap:!1,shadowMode:!1})},afa7:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.status-holder[data-v-cb006efa]{background-color:#fff}.home-base[data-v-cb006efa]{display:flex;flex-direction:column}.content[data-v-cb006efa]{flex:1}.item-wrap[data-v-cb006efa]{position:relative}.image[data-v-cb006efa]{width:1rem;height:1rem;display:block;margin-left:auto;margin-right:auto;margin-top:.2rem;margin-bottom:.2rem}.icon[data-v-cb006efa]{position:absolute;right:.8rem;top:.2rem;font-size:.5rem;line-height:.7rem;width:.9rem;height:.7rem;background:#ef3338;border-radius:1rem;text-align:center;color:#fff}',""]),t.exports=e},b536:function(t,e,n){"use strict";var a=n("a11f"),i=n.n(a);i.a},c3dc:function(t,e,n){"use strict";n.r(e);var a=n("8771"),i=n("5ada");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("4159");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"cb006efa",null,!1,a["a"],void 0);e["default"]=r.exports},dffc:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.addMap=function(t,e,n,a,i){var o=new BMap.Map(t),s=new BMap.ZoomControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,offset:new BMap.Size(20,20)});function r(){this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new BMap.Size(10,10)}o.addControl(s),r.prototype=new BMap.Control,r.prototype.initialize=function(t){var n=document.createElement("div");return n.className="bmap-pan-control pan-left iconfont icon-arrow-down",n.onclick=function(n){t.panBy(100,0),"function"===typeof e&&e()},t.getContainer().appendChild(n),n};var c=new r;function u(){this.defaultAnchor=BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new BMap.Size(10,10)}o.addControl(c),u.prototype=new BMap.Control,u.prototype.initialize=function(t){var e=document.createElement("div");return e.className="bmap-pan-control pan-right iconfont icon-arrow-down",e.onclick=function(e){t.panBy(-100,0),"function"===typeof n&&n()},t.getContainer().appendChild(e),e};var l=new u;function d(){this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new BMap.Size(10,10)}o.addControl(l),d.prototype=new BMap.Control,d.prototype.initialize=function(t){var e=document.createElement("div");return e.className="bmap-pan-control pan-top iconfont icon-arrow-down",e.onclick=function(e){t.panBy(0,100),"function"===typeof a&&a()},t.getContainer().appendChild(e),e};var p=new d;function m(){this.defaultAnchor=BMAP_ANCHOR_BOTTOM_LEFT,this.defaultOffset=new BMap.Size(10,10)}o.addControl(p),m.prototype=new BMap.Control,m.prototype.initialize=function(t){var e=document.createElement("div");return e.className="bmap-pan-control pan-bottom iconfont icon-arrow-down",e.onclick=function(e){t.panBy(0,-100),"function"===typeof i&&i()},t.getContainer().appendChild(e),e};var f=new m;return o.addControl(f),o.disableDoubleClickZoom(),o.disableDragging(),o},e.addMarker=function(t,e){var n,a=t.lng,i=t.lat,o=t.text,s=t.color,r=new BMap.Point(a,i);return n=new BMap.Marker(r),n.initialize=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.width="45px",e.style.height="45px",e.style.lineHeight="45px",e.style.fontSize="40px",e.style.textAlign="center",e.style.color=s,e.className="iconfont icon-dingwei",e.innerHTML='<b style="font-size:18px;position:absolute;top:0;left:0px;color:#fff;line-height:1.8;width:100%">'+o+"</b>",t.getPanes().markerPane.appendChild(e),e},n.draw=function(){var t=this.getPosition(),n=e.pointToOverlayPixel(t);this.domElement.style.left=n.x-22.5+"px",this.domElement.style.top=n.y-45+"px"},e.addOverlay(n),n},e.addMarker2=function(t,e){var n,a,i=t.lng,o=t.lat,s=t.start_point,c=t.color,u=new BMap.Point(i,o);return n=new BMap.Marker(u),n.initialize=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.width="20px",e.style.height="20px",e.style.lineHeight="20px",e.style.fontSize="20px",e.style.textAlign="center",e.style.color=c;var n=t.pointToOverlayPixel(u),i=t.pointToOverlayPixel(s),o=r(i,n);return s=u,a=o+13,e.style.transform="rotate("+a%360+"deg)",e.style.transformOrigin=n.x-10+"px "+n.y-7.1875+"px",e.className="iconfont icon-dingwei1",t.getPanes().markerPane.appendChild(e),e},n.draw=function(){var t=this.getPosition(),n=e.pointToOverlayPixel(t),i=e.pointToOverlayPixel(s),o=r(i,n);s=t,a=o+13,this.domElement.style.transform="rotate("+a%360+"deg)";var c=e.pointToOverlayPixel(t);this.domElement.style.left=c.x-10+"px",this.domElement.style.top=c.y-7.1875+"px"},e.addOverlay(n),n},e.calRotation=r,e.clearWatch=function(){if("undefined"===typeof a)return;i.clearWatch(a)},e.getPointNearby=e.getPointByIp=e.getPointByAddress=e.getAddressByPoint=e.getAddressByKeyword=e.convertPoint=void 0,e.getPosition=function(t,e){if(i){var n=e?"getCurrentPosition":"watchPosition",o=i[n]((function(e){(function(e,n){c(e,n).then((function(e){if(0==e.status){var n={code:1e4,message:"",result:{lng:e.result[0].x,lat:e.result[0].y}};t(n)}else{t({code:10001,message:"坐标转换失败",result:""})}})).catch((function(e){t({code:10001,message:"调用坐标转换接口失败",result:""})}))})(e.coords.longitude,e.coords.latitude)}),(function(e){var n="";switch(e.code){case e.PERMISSION_DENIED:n="定位请求拒绝";break;case e.POSITION_UNAVAILABLE:n="定位获取失败";break;case e.TIMEOUT:n="定位超时";break;default:n="未知错误";break}var a={code:10001,message:n,result:""};t(a)}),{enableHighAcuracy:!0,timeout:5e3,maximumAge:1e3});e||(a=o)}else{t({code:10001,message:"定位不支持",result:""})}};var a,i,o=n("6e6d"),s=n("80dc");function r(t,e){var n=t.x,a=t.y,i=e.x,o=e.y,s=Math.abs(n-i),r=Math.abs(a-o),c=Math.sqrt(Math.pow(s,2)+Math.pow(r,2)),u=r/c,l=Math.acos(u),d=Math.floor(180/(Math.PI/l));return i>n&&o>a&&(d=180-d),i===n&&o>a&&(d=180),i>n&&o===a&&(d=90),i<n&&o>a&&(d=180+d),i<n&&o===a&&(d=270),i<n&&o<a&&(d=360-d),d}i=navigator.geolocation;e.getAddressByPoint=function(t){return(0,o.requestRaw)(s.env.SITE_URL+"/bmap/reverse_geocoding/v3/","GET",{location:t,output:"json",ak:s.env.BMAP_AK,latest_admin:1})};e.getPointByAddress=function(t){return(0,o.requestRaw)(s.env.SITE_URL+"/bmap/geocoding/v3/","GET",{address:t,output:"json",ak:s.env.BMAP_AK,latest_admin:1})};e.getAddressByKeyword=function(t,e){return(0,o.requestRaw)(s.env.SITE_URL+"/bmap/place/v2/suggestion","GET",{query:t,region:e,city_limit:!0,output:"json",ak:s.env.BMAP_AK})};e.getPointByIp=function(){return(0,o.requestRaw)(s.env.SITE_URL+"/bmap/location/ip","GET",{coor:"bd09ll",ak:s.env.BMAP_AK})};e.getPointNearby=function(t){return(0,o.requestRaw)(s.env.SITE_URL+"/bmap/place/v2/search","GET",{query:"宾馆$酒店$住宅$餐饮$生活娱乐$公司$商务$学校$大厦$公寓$写字楼",output:"json",location:t,ak:s.env.BMAP_AK})};var c=function(t,e){return(0,o.requestRaw)(s.env.SITE_URL+"/bmap/geoconv/v1/","GET",{coords:t+","+e,output:"json",from:1,to:5,ak:s.env.BMAP_AK})};e.convertPoint=c},e119:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={pageMeta:n("6d42").default,uniNavBar:n("10ee").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("page-meta",{attrs:{"root-font-size":t.fontSize+"px"}}),n("home-base",{attrs:{show:!1}},[n("v-uni-view",{staticClass:"div"},[n("v-uni-view",{staticClass:"div common-header-wrap"},[n("v-uni-view",{style:"height:"+t.navHeight+"px"}),n("v-uni-view",{staticClass:"common-header-holder"}),n("v-uni-view",{staticClass:"common-header-fixed"},[n("title-header"),n("uni-nav-bar",{staticClass:"common-header",attrs:{title:"定位","left-icon":"back"},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack()}}})],1)],1),n("v-uni-view",{staticClass:"div map-wrapper"},[n("map-select",{ref:"map_select",attrs:{longitude:t.lng,latitude:t.lat,ifShowCurrent:!0},on:{setPosition:function(e){arguments[0]=e=t.$handleEvent(e),t.setPosition.apply(void 0,arguments)}}})],1)],1)],1)],1)},o=[]},f00e:function(t,e,n){"use strict";n.r(e);var a=n("6da2"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}}]);