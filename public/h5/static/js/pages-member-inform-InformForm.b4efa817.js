(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-inform-InformForm"],{"00d3":function(e,t,i){"use strict";i.r(t);var n=i("8480"),o=i("cd1a");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("2314");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"04ece1fc",null,!1,n["a"],void 0);t["default"]=s.exports},2314:function(e,t,i){"use strict";var n=i("6530"),o=i.n(n);o.a},3661:function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("14d9");var o=i("2eff"),a=n(i("9704")),r=n(i("ab26")),s=n(i("5543")),c=i("6ca9"),d=n(i("23ac")),l={computed:{fontSize:function(){return(0,o.getFontSize)()}},data:function(){return{navHeight:0,screenWidth:0,screenHeight:0,cropperOption:{img:"",canMove:!1,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,maxImgSize:500,outputType:"png"},cropType:"",content:"",inform_id:0,goods_id:0,subject_options:[],subject_name:"",subject:"",type_options:[],type_name:"",type:"",image:[],file_value:{},inform:{},inform_pic:[],defaultindex:0,subject_info:!1,goods_info:!1}},components:{TitleHeader:a.default,MemberBase:r.default,flexLine:d.default,tuiPictureCropper:s.default},onLoad:function(e){var t=this;this.inform_id=e.inform_id,this.goods_id=e.goods_id,this.inform_id?(0,c.getInformInfo)(this.inform_id).then((function(e){t.inform=e.result.inform_info,t.subject_info=e.result.subject_info,t.inform_pic=e.result.inform_pic,t.goods_info=e.result.goods_info})).catch((function(e){uni.showToast({icon:"none",title:e.message})})):(0,c.getCommonData)(this.goods_id).then((function(e){var i=e.result.type_list;for(var n in i)t.type_options.push({label:i[n].informtype_name,value:i[n].informtype_id+","+i[n].informtype_name});t.type=i[0].informtype_id+","+i[0].informtype_name})).catch((function(e){uni.showToast({icon:"none",title:e.message})}))},watch:{subject:function(e){var t=e.split(",");this.subject_name=t[1],this.hidePopup("subjectVisible")},type:function(e){var t=this,i=e.split(",");this.type_name=i[1],this.hidePopup("typeVisible"),(0,c.getInformSubject)(i[0]).then((function(e){var i=e.result.inform_subject_list;for(var n in t.subject_options=[],i)t.subject_options.push({label:i[n].informsubject_content,value:i[n].informsubject_id+","+i[n].informsubject_content});t.subject=i[0].informsubject_id+","+i[0].informsubject_content})).catch((function(e){uni.showToast({icon:"none",title:e.message})}))}},mounted:function(){var e=uni.getSystemInfoSync();this.screenWidth=e.windowWidth,this.screenHeight=e.windowHeight},methods:{radioChange:function(e,t){switch(e){case 1:this.type=t.detail.value;break;case 2:this.subject=t.detail.value;break}},showPopup:function(e){this.$refs[e].open()},hidePopup:function(e){this.$refs[e].close()},goBack:function(){uni.navigateBack({delta:1})},handleChange:function(e){this.defaultindex=e.detail.current},addInform:function(){var e=[];for(var t in this.file_value)e.push(this.file_value[t]);(0,c.addInform)(this.goods_id,this.subject,this.content,e).then((function(e){uni.navigateTo({url:"/pages/member/inform/InformList"})})).catch((function(e){uni.showToast({icon:"none",title:e.message})}))},useCrop:function(e){var t=this,i=this.cropType,n={filePath:e.url,name:"inform_pic"};(0,c.uploadInformPic)(n).then((function(e){t.file_value[i]=e.result.file_name,t.image[i]=[{name:i,extname:"jpg",url:e.result.pic}],t.cropperOption.imgUrl="",t.$forceUpdate(),uni.hideLoading()})).catch((function(e){uni.showToast({icon:"none",title:e.message}),uni.hideLoading(),this.cropperOption.imgUrl="",this.$forceUpdate()}))},deleteInformPic:function(e){var t=e.tempFile,i=t.uuid;delete this.file_value[i]},cropReady:function(){this.cropperOption.img=this.cropperOption.imgUrl},cropBack:function(){this.cropperOption.imgUrl="",this.$forceUpdate()},uploadInformPic:function(e){var t=e.tempFiles[0];this.cropType=t.uuid,this.cropperOption.imgUrl=t.path,this.cropperOption.autoCropWidth=uni.getSystemInfoSync().windowWidth,this.cropperOption.autoCropHeight=uni.getSystemInfoSync().windowWidth,this.cropperOption.maxImgSize=uni.getSystemInfoSync().windowHeight-40,this.$forceUpdate()}}};t.default=l},6530:function(e,t,i){var n=i("87d7");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("24abc00a",n,!0,{sourceMap:!1,shadowMode:!1})},"6ca9":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.uploadInformPic=t.getInformSubject=t.getInformList=t.getInformInfo=t.getCommonData=t.cancelInform=t.addInform=void 0;var n=i("9fa5");t.getInformList=function(e){return(0,n.requestApi)("/memberinform/index","POST",{page:e.page,per_page:e.per_page},"member")};t.addInform=function(e,t,i,o){return(0,n.requestApi)("/memberinform/inform_save","POST",{inform_goods_id:e,inform_subject:t,inform_content:i,pic_name:o},"member")};t.cancelInform=function(e){return(0,n.requestApi)("/memberinform/inform_cancel","POST",{inform_id:e},"member")};t.uploadInformPic=function(e){return(0,n.requestApi)("/memberinform/upload_pic","POST",e,"member",!0)};t.getCommonData=function(e){return(0,n.requestApi)("/memberinform/inform_submit","POST",{goods_id:e},"member")};t.getInformInfo=function(e){return(0,n.requestApi)("/memberinform/inform_info","POST",{inform_id:e},"member")};t.getInformSubject=function(e){return(0,n.requestApi)("/memberinform/get_subject_by_typeid","POST",{type_id:e},"member")}},8480:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={pageMeta:i("6d42").default,uniNavBar:i("904a").default,uniFilePicker:i("a06b").default,uniPopup:i("c4e4").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":e.fontSize+"px"}}),i("member-base",{attrs:{show:!1}},[i("v-uni-view",{staticClass:"div container"},[i("v-uni-view",{staticClass:"div common-header-wrap"},[i("v-uni-view",{style:"height:"+e.navHeight+"px"}),i("v-uni-view",{staticClass:"common-header-holder"}),i("v-uni-view",{staticClass:"common-header-fixed"},[i("title-header"),i("uni-nav-bar",{staticClass:"common-header",attrs:{title:"举报详情","left-icon":"back"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.goBack()}}})],1)],1),e.inform_id?i("v-uni-view",{staticClass:"div"},[i("v-uni-view",{staticClass:"div"},[i("v-uni-view",{staticClass:"div body"},[i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报商家")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.goods_info.store_name))])],1),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报商品")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.goods_info.goods_name))])],1),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报类型")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.subject_info.informsubject_type_name))])],1),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报主题")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.subject_info.informsubject_content))])],1),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报时间")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.$moment.unix(e.inform.inform_datetime).format("YYYY.MM.DD")))])],1),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报内容")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.inform.inform_content))])],1),e.inform_pic.length?i("v-uni-view",{staticClass:"div",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPopup("isshow")}}},[i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报凭证")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v("查看")])],1)],1):e._e(),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报状态")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.inform.inform_handle_type_text))])],1),e.inform.inform_handle_message?i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("处理信息")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.inform.inform_handle_message))])],1):e._e()],1),e.inform_pic.length>0?i("uni-popup",{ref:"isshow",attrs:{"background-color":"#fff"}},[i("v-uni-view",{staticClass:"div preview-picture"},[i("title-header"),i("v-uni-view",{staticClass:"div picture-header",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hidePopup("isshow")}}},[i("v-uni-text",{staticClass:"span"},[e._v("关闭")]),e.inform_pic?i("v-uni-text",{staticClass:"span"},[e._v(e._s(e.defaultindex+1)+" / "+e._s(e.inform_pic.length))]):e._e()],1),i("v-uni-view",{staticClass:"div picture-body"},[i("v-uni-swiper",{staticClass:"ui-common-swiper",attrs:{autoplay:!1,"show-indicators":!0,current:e.defaultindex},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleChange.apply(void 0,arguments)}}},e._l(e.inform_pic,(function(e,t){return i("v-uni-swiper-item",{key:t,staticClass:"ui-common-swiper-item"},[i("v-uni-image",{staticClass:"img",staticStyle:{"max-width":"100%","max-height":"100%"},attrs:{mode:"aspectFit",src:e}})],1)})),1)],1)],1)],1):e._e()],1)],1):i("v-uni-view",{staticClass:"div"},[i("v-uni-view",{staticClass:"div body"},[i("v-uni-view",{staticClass:"div",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPopup("typeVisible")}}},[i("flex-line",{attrs:{"is-link":!0,"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报类型")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.type_name))])],1)],1),i("v-uni-view",{staticClass:"div",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPopup("subjectVisible")}}},[i("flex-line",{attrs:{"is-link":!0,"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("举报主题")]),i("v-uni-text",{staticClass:"span",attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.subject_name))])],1)],1),i("flex-line",{staticClass:"menu-item"},[i("v-uni-text",{staticClass:"span"},[e._v("举报凭证")])],1),i("v-uni-view",{staticClass:"div image-wrapper"},[i("v-uni-view",{staticClass:"div user-avatar"},[i("uni-file-picker",{attrs:{fileMediatype:"image",mode:"grid",limit:3,"auto-upload":!1},on:{select:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadInformPic.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteInformPic.apply(void 0,arguments)}},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)],1),i("v-uni-view",{staticClass:"div order-comment-body"},[i("v-uni-view",{staticClass:"div enter"},[i("v-uni-textarea",{attrs:{placeholder:"举报内容"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1),i("v-uni-view",{staticClass:"div pt-10 pb-10"},[i("v-uni-view",{staticClass:"div common-btn ds-button-large",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addInform.apply(void 0,arguments)}}},[e._v("提交")])],1)],1),i("uni-popup",{ref:"typeVisible",attrs:{"background-color":"#fff",type:"right"}},[i("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+e.screenWidth+"px"},[i("v-uni-view",{staticClass:"div common-header-wrap"},[i("v-uni-view",{style:"height:"+e.navHeight+"px"}),i("v-uni-view",{staticClass:"common-header-holder"}),i("v-uni-view",{staticClass:"common-header-fixed"},[i("title-header"),i("uni-nav-bar",{staticClass:"common-header",attrs:{title:"举报类型","left-icon":"back"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.hidePopup("typeVisible")}}})],1)],1),i("v-uni-view",{staticClass:"div common-popup-content"},[i("v-uni-radio-group",{staticClass:"radio-wrapper",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange(1,t)}}},e._l(e.type_options,(function(t,n){return i("v-uni-view",{key:n,staticClass:"radio-item"},[i("v-uni-radio",{attrs:{value:t.value,checked:e.type==t.value}}),i("v-uni-text",[e._v(e._s(t.label))])],1)})),1)],1)],1)],1),i("uni-popup",{ref:"subjectVisible",attrs:{"background-color":"#fff",type:"right"}},[i("v-uni-view",{staticClass:"common-popup-wrapper",style:"width:"+e.screenWidth+"px"},[i("v-uni-view",{staticClass:"div common-header-wrap"},[i("v-uni-view",{style:"height:"+e.navHeight+"px"}),i("v-uni-view",{staticClass:"common-header-holder"}),i("v-uni-view",{staticClass:"common-header-fixed"},[i("title-header"),i("uni-nav-bar",{staticClass:"common-header",attrs:{title:"举报主题","left-icon":"back"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.hidePopup("subjectVisible")}}})],1)],1),i("v-uni-view",{staticClass:"div common-popup-content"},[i("v-uni-scroll-view",{staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"}},[i("v-uni-radio-group",{staticClass:"radio-wrapper",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange(2,t)}}},e._l(e.subject_options,(function(t,n){return i("v-uni-view",{key:n,staticClass:"radio-item"},[i("v-uni-radio",{attrs:{value:t.value,checked:e.subject==t.value}}),i("v-uni-text",[e._v(e._s(t.label))])],1)})),1)],1)],1)],1)],1)],1),e.cropperOption.imgUrl?i("tui-picture-cropper",{attrs:{width:e.cropperOption.autoCropWidth,height:e.cropperOption.autoCropHeight,imageUrl:e.cropperOption.img},on:{ready:function(t){arguments[0]=t=e.$handleEvent(t),e.cropReady.apply(void 0,arguments)},cropper:function(t){arguments[0]=t=e.$handleEvent(t),e.useCrop.apply(void 0,arguments)},back:function(t){arguments[0]=t=e.$handleEvent(t),e.cropBack.apply(void 0,arguments)}}}):e._e()],1)],1)],1)},a=[]},"87d7":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.common-header .btn[data-v-04ece1fc]{background:#000;color:#fff;box-shadow:0 2px 4px #d2d2d2}.ui-common-swiper[data-v-04ece1fc]{width:100%}.ui-common-swiper-item[data-v-04ece1fc]{display:flex;align-content:center}.common-score-wrapper .back[data-v-04ece1fc]{display:block}.container[data-v-04ece1fc]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.container .body[data-v-04ece1fc]{background:#fff;padding:0 .6rem}.container .body .order-comment-body[data-v-04ece1fc]{background:#fff}.container .body .order-comment-body .body-list[data-v-04ece1fc]{display:flex;justify-content:left;align-content:center;align-items:center;padding-bottom:.75rem;border-bottom:1px solid #e8eaed}.container .body .order-comment-body .image[data-v-04ece1fc]{width:3.7rem;height:3.7rem;flex-shrink:0}.container .body .order-comment-body .image .img[data-v-04ece1fc]{width:100%;height:100%}.container .body .order-comment-body .comment[data-v-04ece1fc]{flex-basis:100%;padding-left:.75rem}.container .body .order-comment-body .comment .span[data-v-04ece1fc]{font-size:.8rem;color:#7c7f88;text-align:left;display:block}.container .body .order-comment-body .comment .ul[data-v-04ece1fc]{display:flex;justify-content:space-between;align-content:center;align-items:center;margin-top:1.2rem}.container .body .order-comment-body .comment .ul .li .img[data-v-04ece1fc]{width:1rem;height:1rem;flex-shrink:0}.container .body .order-comment-body .comment .ul .li uni-label[data-v-04ece1fc]{font-size:.7rem;color:#4e545d;font-weight:400}.container .body .order-comment-body .enter[data-v-04ece1fc]{padding-top:.75rem}.container .body .order-comment-body .enter uni-textarea[data-v-04ece1fc]{width:100%;height:6rem;background:#f7f9fa;border:1px solid #f7f9fa;box-sizing:border-box;padding:.5rem 0 0 .5rem;font-size:.7rem;-webkit-appearance:none;outline:none}.swipe-wrapper[data-v-04ece1fc]{width:100%}.mint-popup[data-v-04ece1fc]{width:100%;height:100%;background-color:#000}.mint-swipe[data-v-04ece1fc],\r\n.mint-swipe-items-wrap[data-v-04ece1fc]{position:static}.preview-picture[data-v-04ece1fc]{width:100%;height:100%;position:fixed;z-index:10;top:0;bottom:0;left:0;right:0;background-color:#000;display:flex;flex-direction:column}.preview-picture .picture-header[data-v-04ece1fc]{color:#000;background-color:#fff;display:flex;justify-content:center;align-content:center;align-items:center;width:100%;top:0;padding-top:0}.preview-picture .picture-header .span[data-v-04ece1fc]{font-size:.7rem;font-weight:400;height:2.2rem;line-height:2.2rem}.preview-picture .picture-header .span[data-v-04ece1fc]:first-child{position:absolute;cursor:pointer;left:.75rem;background-size:1.2rem;display:inline-block;height:2.2rem;line-height:2.2rem}.preview-picture .picture-body[data-v-04ece1fc]{flex:1;display:flex;justify-content:center;align-content:center;align-items:center}.radio-wrapper[data-v-04ece1fc]{display:block;padding:0 .6rem}.radio-wrapper .radio-item[data-v-04ece1fc]{padding:.5rem 0;border-bottom:1px dashed #f5f5f5}',""]),e.exports=t},cd1a:function(e,t,i){"use strict";i.r(t);var n=i("3661"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a}}]);