(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-address-ChainForm"],{"029e":function(e,t,i){"use strict";i.r(t);var a=i("6e16"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"0c3d":function(e,t,i){"use strict";var a=i("852c"),n=i.n(a);n.a},"16a7":function(e,t,i){"use strict";var a=i("18ce"),n=i.n(a);n.a},"18ce":function(e,t,i){var a=i("58ec");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("5457334c",a,!0,{sourceMap:!1,shadowMode:!1})},19543:function(e,t,i){"use strict";i.r(t);var a=i("4fb7"),n=i("348e");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("5c74");var r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"3e6c03f6",null,!1,a["a"],void 0);t["default"]=o.exports},"1ca3":function(e,t,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("99af");var n=i("9c03"),s=a(i("c657")),r=a(i("19543")),o=i("dffc"),d=a(i("7d0b")),c=a(i("bf91")),l=i("d5d9"),u=a(i("d868")),f={components:{TitleHeader:s.default,MemberBase:r.default,flexLine:u.default,RegionPicker:d.default,EmptyRecord:c.default},computed:{fontSize:function(){return(0,n.getFontSize)()},isAddMode:function(){var e=this.action;return"add"===e},getTitle:function(){return this.isAddMode?"新增地址":"修改收货地址"},getSumitTitle:function(){var e=this.isFromCheckout;return e?"保存并使用":"保存"}},data:function(){return{navHeight:0,isFromCheckout:0,action:"",screenWidth:0,chainList:[],params:{page:0,per_page:10},loading:!1,isMore:!0,popMap:!1,address_id:0,address_info:{address_is_default:!0}}},onLoad:function(e){var t=this;this.action=e.action,this.isFromCheckout=e.isFromCheckout,this.isAddMode||(this.address_id=e.address_id,(0,l.getAddressInfo)(this.address_id).then((function(e){t.address_info=e.result.address_info,"1"===e.result.address_info.address_is_default?t.address_info.address_is_default=!0:t.address_info.address_is_default=!1})).catch((function(e){uni.showToast({icon:"none",title:e.message})}))),this.loadMore()},mounted:function(){this.screenWidth=uni.getSystemInfoSync().screenWidth},methods:{switchChange:function(e){this.address_info.address_is_default=e.detail.value},showPopup:function(e){this.$refs[e].open()},hidePopup:function(e){this.$refs[e].close()},loadMore:function(){this.loading||(this.params.page=++this.params.page,this.isMore&&(this.loading=!0,this.getChainList(!0)))},reload:function(){this.params.page=0,this.isMore=!0,this.chainList=!1,this.loadMore()},getChainList:function(){var e=this;(0,l.getChainList)(this.params,this.address_info.area_id).then((function(t){t.result.hasmore?e.isMore=!0:e.isMore=!1,e.chainList?e.chainList=e.chainList.concat(t.result.chain_list):e.chainList=t.result.chain_list,e.loading=!1})).catch((function(e){uni.hideLoading(),uni.showToast({icon:"none",title:e.message}),this.loading=!1}))},setChain:function(e){this.address_info.chain_id=e.chain_id,this.address_info.address_detail=e.chain_address,this.hidePopup("showChain"),this.$forceUpdate()},goBack:function(){uni.navigateBack({delta:1})},getPosition:function(){var e=this;(0,o.getPointByAddress)(this.address_info.area_info+this.address_info.address_detail).then((function(t){t.result.location&&(e.address_info.address_longitude=t.result.location.lng,e.address_info.address_latitude=t.result.location.lat)})).catch((function(e){uni.showToast({icon:"none",title:e.message})}))},setPosition:function(e,t,i){this.popMap=!1,this.address_info.address_detail=i,this.address_info.address_longitude=t,this.address_info.address_latitude=e},submit:function(){var e=this;""!==this.address_info.address_realname&&0!==this.address_info.address_realname.length?this.address_info.address_realname.length<2||this.address_info.address_realname.length>15?uni.showToast({icon:"none",title:"2-15个字符限制"}):""!==this.address_info.address_mob_phone&&0!==this.address_info.address_mob_phone.length?0!==this.address_info.area_id&&void 0!==this.address_info.area_id?0!==this.address_info.chain_id&&void 0!==this.address_info.chain_id?(0,l.addChain)(this.address_info).then((function(t){uni.hideLoading(),e.updateSelectedAddress()}),(function(e){uni.hideLoading(),uni.showToast({icon:"none",title:e.message})})):uni.showToast({icon:"none",title:"请选择代收点"}):uni.showToast({icon:"none",title:"请选择所在地区"}):uni.showToast({icon:"none",title:"请填写手机号码"}):uni.showToast({icon:"none",title:"请填写收件人姓名"})},onRegion:function(e,t){this.$refs.picker.show()},onPickerConfirm:function(e){this.address_info.area_id!=e[2].area_id&&(this.address_info.chain_id=0,this.address_info.address_detail=""),this.address_info.area_info=this.getRegionStr(e),this.address_info.area_id=e[2].area_id,this.address_info.city_id=e[1].area_id,this.reload(),this.$forceUpdate()},getRegionStr:function(e){for(var t="",i=0;i<e.length;i++){var a=e[i];0!==i?t=t+" "+a.area_name:t+=a.area_name}return t},updateSelectedAddress:function(){uni.navigateBack({delta:1})}}};t.default=f},"1e4e":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.member-chain-form .address-line-wrapper .mint-cell-title[data-v-1c10d081]{flex:unset;width:5rem}.member-chain-form .address-line-wrapper .mint-cell-value[data-v-1c10d081]{flex:1;text-align:right;display:block}',""]),e.exports=t},"348e":function(e,t,i){"use strict";i.r(t);var a=i("9096"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"4eeb":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.flex-line[data-v-c08b8c2a]{display:flex;flex:1;align-items:center;min-height:2.5rem;background:#fff}.flex-line.border[data-v-c08b8c2a]{border-bottom:1px dashed #eee}.flex-line .left[data-v-c08b8c2a]{display:flex;align-items:center;flex:1;font-size:.7rem;color:#333;font-weight:700}.flex-line .right[data-v-c08b8c2a]{display:flex;align-items:center;font-size:.7rem;color:#a2a6ad}.flex-line .right .arrow[data-v-c08b8c2a]{font-size:.7rem}',""]),e.exports=t},"4fb7":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"div member-base"},[a("v-uni-view",{staticClass:"status-holder"}),a("v-uni-view",{staticClass:"content"},[e._t("default")],2),e.show?a("v-uni-view",{staticClass:"div common-footer-wrap"},[a("v-uni-view",{staticClass:"common-footer"},[a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/home/index/Index"==e.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/home/index/Index","open-type":"reLaunch"}},["pages/home/index/Index"==e.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("9469")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("fefe")}}),a("v-uni-text",{staticClass:"span text"},[e._v("首页")])],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/home/goodsclass/Goodsclass"==e.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/home/goodsclass/Goodsclass"}},["pages/home/goodsclass/Goodsclass"==e.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("1ac4")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("2a40")}}),a("v-uni-text",{staticClass:"span text"},[e._v("分类")])],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/home/search/Search"==e.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/home/search/Search"}},["pages/home/search/Search"==e.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("ce48")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("8101")}}),a("v-uni-text",{staticClass:"span text"},[e._v("搜索")])],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/member/cart/Cart"==e.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/member/cart/Cart"}},["pages/member/cart/Cart"==e.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("9837")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("0eaa")}}),a("v-uni-text",{staticClass:"span text"},[e._v("购物车")]),e.cartNumber>0?a("v-uni-text",{staticClass:"span icon"},[e._v(e._s(e.getCarCount))]):e._e()],1)],1),a("v-uni-view",{staticClass:"item-wrap",class:{active:"pages/member/index/Index"==e.page.route}},[a("v-uni-navigator",{staticClass:"item",attrs:{url:"/pages/member/index/Index","open-type":"reLaunch"}},["pages/member/index/Index"==e.page.route?a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("adcc")}}):a("v-uni-image",{staticClass:"img image",attrs:{mode:"aspectFit",src:i("56fd")}}),a("v-uni-text",{staticClass:"span text"},[e._v("我的")])],1)],1)],1)],1):e._e()],1)},n=[]},"55e6":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var a={pageMeta:i("6d42").default,uniNavBar:i("10ee").default,uniPopup:i("cabf").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":e.fontSize+"px"}}),i("member-base",{attrs:{show:!1}},[i("v-uni-view",{staticClass:"div container member-chain-form"},[i("v-uni-view",{staticClass:"div common-header-wrap"},[i("v-uni-view",{style:"height:"+e.navHeight+"px"}),i("v-uni-view",{staticClass:"common-header-holder"}),i("v-uni-view",{staticClass:"common-header-fixed"},[i("title-header"),i("uni-nav-bar",{staticClass:"common-header",attrs:{title:e.getTitle,"left-icon":"back"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.goBack.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"div main-content"},[i("flex-line",{staticClass:"field-line",attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span field-name"},[e._v("姓名")]),i("v-uni-view",{staticClass:"div field-line-right",attrs:{slot:"right"},slot:"right"},[i("v-uni-input",{staticClass:"field-input",model:{value:e.address_info.address_realname,callback:function(t){e.$set(e.address_info,"address_realname",t)},expression:"address_info.address_realname"}})],1)],1),i("flex-line",{staticClass:"field-line",attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span field-name"},[e._v("手机")]),i("v-uni-view",{staticClass:"div field-line-right",attrs:{slot:"right"},slot:"right"},[i("v-uni-input",{staticClass:"field-input",model:{value:e.address_info.address_mob_phone,callback:function(t){e.$set(e.address_info,"address_mob_phone",t)},expression:"address_info.address_mob_phone"}})],1)],1),i("flex-line",{attrs:{"is-link":!0,"show-border":!0}},[i("v-uni-text",{staticClass:"span"},[e._v("地区")]),i("v-uni-view",{staticClass:"div",attrs:{slot:"right"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onRegion.apply(void 0,arguments)}},slot:"right"},[e.address_info.area_info?i("v-uni-text",{staticClass:"span"},[e._v(e._s(e.address_info.area_info))]):i("v-uni-text",{staticClass:"span"},[e._v("请选择地区")])],1)],1),i("flex-line",{attrs:{"is-link":!0,"show-border":!0}},[i("v-uni-text",{staticClass:"span"},[e._v("代收点")]),i("v-uni-view",{staticClass:"div",attrs:{slot:"right"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPopup("showChain")}},slot:"right"},[e.address_info.address_detail?i("v-uni-text",{staticClass:"span"},[e._v(e._s(e.address_info.address_detail))]):i("v-uni-text",{staticClass:"span"},[e._v("请选择代收点")])],1)],1),i("flex-line",{attrs:{"show-border":!0}},[i("v-uni-text",{staticClass:"span line-name"},[e._v("默认地址")]),i("v-uni-view",{staticClass:"div",attrs:{slot:"right"},slot:"right"},[i("v-uni-switch",{attrs:{checked:!!e.address_info.address_is_default},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"div pt-10 pb-10"},[i("v-uni-view",{staticClass:"div common-btn ds-button-large",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v(e._s(e.getSumitTitle))])],1)],1),i("region-picker",{ref:"picker",on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onPickerConfirm.apply(void 0,arguments)}}}),i("uni-popup",{ref:"showChain",attrs:{"background-color":"#fff",type:"right"}},[i("v-uni-view",{staticClass:"scroll-view-wrapper common-popup-wrapper",style:"width:"+e.screenWidth+"px"},[i("v-uni-view",{staticClass:"div common-header-wrap"},[i("v-uni-view",{style:"height:"+e.navHeight+"px"}),i("v-uni-view",{staticClass:"common-header-holder"}),i("v-uni-view",{staticClass:"common-header-fixed"},[i("title-header"),i("uni-nav-bar",{staticClass:"common-header",attrs:{title:"代收点列表","left-icon":"back"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.hidePopup("showChain")}}})],1)],1),i("v-uni-view",{staticClass:"scroll-view-wrapper scroll-view div common-popup-content"},[i("v-uni-scroll-view",{staticClass:"scroll-view div",staticStyle:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.loadMore.apply(void 0,arguments)}}},[e.chainList&&e.chainList.length?i("v-uni-view",{staticClass:"div"},e._l(e.chainList,(function(t,a){return i("v-uni-view",{key:a,staticClass:"div top-wrapper",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.setChain(t)}}},[i("v-uni-view",{staticClass:"div title-wrapper"},[i("v-uni-label",{staticClass:"title"},[e._v(e._s(t.chain_addressname))]),i("v-uni-label",{staticClass:"title"},[e._v(e._s(t.chain_mobile)),t.chain_telephony?i("v-uni-text",{staticClass:"span"},[e._v(e._s(t.chain_telephony))]):e._e()],1)],1),i("v-uni-label",{staticClass:"desc address-text"},[e._v(e._s(t.chain_area_info)+" "+e._s(t.chain_address))]),i("v-uni-view",{staticClass:"div bottom-line"})],1)})),1):e.chainList&&!e.chainList.length?i("empty-record"):e._e()],1)],1)],1)],1)],1)],1)],1)},s=[]},"58ec":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.scroll-view-wrapper[data-v-1c10d081]{display:flex;flex-direction:column}.scroll-view[data-v-1c10d081]{flex:1}.main-content[data-v-1c10d081]{background:#fff;padding:0 .6rem}.right-arrow[data-v-1c10d081]{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);color:#ddd;font-size:.6rem;display:inline-block}.input-wrap[data-v-1c10d081]{position:relative}.input-wrap .i[data-v-1c10d081]{position:absolute;right:0;top:0;line-height:2.4rem;display:block;width:2rem;text-align:center;font-size:.9rem}.top-wrapper[data-v-1c10d081]{position:relative;flex:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.top-wrapper .title-wrapper[data-v-1c10d081]{height:1rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-top:.5rem;margin-left:.5rem}.top-wrapper .title[data-v-1c10d081]{font-size:.8rem;color:#333;margin-left:.5rem}.top-wrapper .desc[data-v-1c10d081]{color:#7c7f88;font-size:.7rem}.top-wrapper .address-text[data-v-1c10d081]{margin-top:.5rem;margin-bottom:.5rem;margin-left:1rem;margin-right:.5rem}.top-wrapper .bottom-line[data-v-1c10d081]{position:absolute;height:1px;left:.5rem;bottom:0;right:.5rem;background-color:#e8eaed}.address-line[data-v-1c10d081]{display:inline-block;max-width:50%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}',""]),e.exports=t},5980:function(e,t,i){"use strict";i.r(t);var a=i("55e6"),n=i("975b");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("0c3d"),i("16a7");var r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1c10d081",null,!1,a["a"],void 0);t["default"]=o.exports},"5c74":function(e,t,i){"use strict";var a=i("5e47"),n=i.n(a);n.a},"5e47":function(e,t,i){var a=i("fd99");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("743bddc7",a,!0,{sourceMap:!1,shadowMode:!1})},6157:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"div flex-line",class:{border:this.showBorder}},[t("v-uni-view",{staticClass:"div left"},[this._t("default")],2),t("v-uni-view",{staticClass:"div right"},[this._t("right"),this.isLink?t("v-uni-text",{staticClass:"span iconfont arrow"},[this._v("")]):this._e()],2)],1)},n=[]},"62ef":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"flexLine",data:function(){return{}},props:{isLink:{type:Boolean,default:!1},showBorder:{type:Boolean,default:!1}},methods:{}};t.default=a},"6e16":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("14d9"),i("e25e"),i("d3b7"),i("ddb0");var a=i("9bf3"),n={name:"RegionPicker",props:{modal:{default:!0},modalFade:{default:!1},lockScroll:{default:!1},closeOnClickModal:{default:!0}},data:function(){return{areaPicker:[],items:!1}},created:function(){var e=this;(0,a.getAreaTree)().then((function(t){e.items=t.result.area_list})).catch((function(e){uni.showToast({icon:"none",title:e.message})}))},computed:{buildItems:function(){if(!this.items)return[];var e=new Array;return this.getDefaultItems(this.items,e),e}},methods:{showPopup:function(e){this.$refs[e].open()},hidePopup:function(e){this.$refs[e].close()},getDefaultItems:function(e,t){if(e[0].child&&e[0].child.length>0){t&&0==t.length?(t.push({flex:1,values:e,textAlign:"center"}),this.areaPicker.push(0),this.getDefaultItems(e,t)):t&&t.length>0&&(t.push({flex:1,values:e[0].child,textAlign:"center"}),this.areaPicker.push(0),this.getDefaultItems(e[0].child,t))}},onValuesChange:function(e){var t=e.detail.value,i=this.areaPicker;for(var a in t)i[a]=t[a],a=parseInt(a),a<t.length-1&&(this.buildItems[a]["values"].length&&this.buildItems[a]["values"][t[a]]["child"]&&this.buildItems[a]["values"][t[a]]["child"].length?this.buildItems[a+1]["values"].length&&this.buildItems[a]["values"][t[a]]["child"][0]["area_id"]==this.buildItems[a+1]["values"][0]["area_id"]||(this.buildItems[a+1]["values"]=this.buildItems[a]["values"][t[a]]["child"],i[a+1]=0):(this.buildItems[a+1]["values"]=[],i[a+1]=0));this.areaPicker=i,this.$forceUpdate()},show:function(){this.showPopup("currentValue")},cancel:function(){this.hidePopup("currentValue")},confirm:function(){this.cancel();var e=[];for(var t in this.areaPicker)e[t]=this.buildItems[t]["values"][this.areaPicker[t]],e[t]||(e[t]={area_id:0,area_name:""});this.$emit("onConfirm",e)}}};t.default=n},7671:function(e,t,i){"use strict";i.r(t);var a=i("da56"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"7d0b":function(e,t,i){"use strict";i.r(t);var a=i("ece8"),n=i("029e");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("df03");var r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"68ed882a",null,!1,a["a"],void 0);t["default"]=o.exports},"852c":function(e,t,i){var a=i("1e4e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("33dd1ace",a,!0,{sourceMap:!1,shadowMode:!1})},"8ebf":function(e,t,i){"use strict";var a=i("a1ea"),n=i.n(a);n.a},9059:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.picker[data-v-68ed882a]{background-color:#fff}.toolbar[data-v-68ed882a]{height:2rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:#f0f2f5}.toolbar .toolbar-item[data-v-68ed882a]{font-size:.6rem;border:none;border-radius:0;background-color:#f0f2f5}.toolbar .cancel-item[data-v-68ed882a]{margin-left:.5rem;color:#4e545d}.toolbar .confirm-item[data-v-68ed882a]{margin-right:.5rem;color:red}.toolbar .picker-header[data-v-68ed882a]{color:#4e545d;line-height:2rem;font-size:.8rem}.popup-item-wrapper[data-v-68ed882a]{display:flex;justify-content:center;align-items:center}.popup-item[data-v-68ed882a]{font-size:%?30?%;line-height:%?80?%;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.popup-content[data-v-68ed882a]{padding:0 %?40?%;height:%?300?%}',""]),e.exports=t},9096:function(e,t,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("5530")),s=i("26cb"),r=i("293d"),o={name:"MemberBase",data:function(){return{page:"",cartNumber:0}},props:{show:{type:Boolean,default:!0}},computed:(0,n.default)((0,n.default)({},(0,s.mapState)({user:function(e){return e.member.info},isOnline:function(e){return e.member.isOnline}})),{},{getCarCount:function(){return this.cartNumber>0&&this.cartNumber<100?this.cartNumber:this.cartNumber>=100?"99+":void 0}}),mounted:function(){var e=getCurrentPages(),t=e[e.length-1];this.page={route:t.route,options:t.options},this.user||uni.navigateTo({url:"/pages/home/memberlogin/Login?clear=1"}),this.getCartCount()},methods:{getCartCount:function(){var e=this;this.isOnline&&(0,r.cartQuantity)().then((function(t){t&&(e.cartNumber=t.result.cart_count)}))}}};t.default=o},"975b":function(e,t,i){"use strict";i.r(t);var a=i("1ca3"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"99bb":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"div common-empty-record"},[t("v-uni-text",{staticClass:"i iconfont"},[this._v("")]),t("v-uni-view",{staticClass:"p"},[this._v("没有找到相关记录")])],1)},n=[]},"9bf3":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.getAreaTree=t.getAreaList=void 0;var a=i("6e6d");t.getAreaTree=function(){return(0,a.requestApi)("/Area/area_app","POST",{})};t.getAreaList=function(){return(0,a.requestApi)("/Area/area_list","POST",{})}},a1ea:function(e,t,i){var a=i("4eeb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("544963f4",a,!0,{sourceMap:!1,shadowMode:!1})},b997:function(e,t,i){"use strict";i.r(t);var a=i("62ef"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},bf91:function(e,t,i){"use strict";i.r(t);var a=i("99bb"),n=i("7671");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);var r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=o.exports},c738:function(e,t,i){var a=i("9059");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("4502d4f6",a,!0,{sourceMap:!1,shadowMode:!1})},d5d9:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.getChainList=t.getAddressList=t.getAddressInfo=t.editAddress=t.delAddress=t.addChain=t.addAddress=void 0;var a=i("6e6d");t.getAddressList=function(){return(0,a.requestApi)("/Memberaddress/address_list","POST",{},"member")};t.getAddressInfo=function(e){return(0,a.requestApi)("/Memberaddress/address_info","POST",{address_id:e},"member")};t.addAddress=function(e){return(0,a.requestApi)("/Memberaddress/address_add","POST",{address_realname:e.address_realname,area_id:e.area_id,city_id:e.city_id,area_info:e.area_info,address_detail:e.address_detail,address_longitude:e.address_longitude,address_latitude:e.address_latitude,address_tel_phone:e.address_tel_phone,address_mob_phone:e.address_mob_phone,address_is_default:e.address_is_default},"member")};t.editAddress=function(e,t){return(0,a.requestApi)("/Memberaddress/address_edit","POST",{address_id:t,address_realname:e.address_realname,area_id:e.area_id,city_id:e.city_id,area_info:e.area_info,address_detail:e.address_detail,address_longitude:e.address_longitude,address_latitude:e.address_latitude,address_tel_phone:e.address_tel_phone,address_mob_phone:e.address_mob_phone,address_is_default:e.address_is_default},"member")};t.delAddress=function(e){return(0,a.requestApi)("/Memberaddress/address_del","POST",{address_id:e},"member")};t.getChainList=function(e,t){return(0,a.requestApi)("/Memberaddress/chain_list","POST",{page:e.page,per_page:e.per_page,area_id:t},"member")};t.addChain=function(e){return(0,a.requestApi)("/Memberaddress/chain_add","POST",e,"member")}},d868:function(e,t,i){"use strict";i.r(t);var a=i("6157"),n=i("b997");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("8ebf");var r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"c08b8c2a",null,!1,a["a"],void 0);t["default"]=o.exports},da56:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"EmptyRecord",data:function(){return{}},props:{},methods:{}}},df03:function(e,t,i){"use strict";var a=i("c738"),n=i.n(a);n.a},dffc:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.addMap=function(e,t,i,a,n){var s=new BMap.Map(e),r=new BMap.ZoomControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,offset:new BMap.Size(20,20)});function o(){this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new BMap.Size(10,10)}s.addControl(r),o.prototype=new BMap.Control,o.prototype.initialize=function(e){var i=document.createElement("div");return i.className="bmap-pan-control pan-left iconfont icon-arrow-down",i.onclick=function(i){e.panBy(100,0),"function"===typeof t&&t()},e.getContainer().appendChild(i),i};var d=new o;function c(){this.defaultAnchor=BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new BMap.Size(10,10)}s.addControl(d),c.prototype=new BMap.Control,c.prototype.initialize=function(e){var t=document.createElement("div");return t.className="bmap-pan-control pan-right iconfont icon-arrow-down",t.onclick=function(t){e.panBy(-100,0),"function"===typeof i&&i()},e.getContainer().appendChild(t),t};var l=new c;function u(){this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new BMap.Size(10,10)}s.addControl(l),u.prototype=new BMap.Control,u.prototype.initialize=function(e){var t=document.createElement("div");return t.className="bmap-pan-control pan-top iconfont icon-arrow-down",t.onclick=function(t){e.panBy(0,100),"function"===typeof a&&a()},e.getContainer().appendChild(t),t};var f=new u;function p(){this.defaultAnchor=BMAP_ANCHOR_BOTTOM_LEFT,this.defaultOffset=new BMap.Size(10,10)}s.addControl(f),p.prototype=new BMap.Control,p.prototype.initialize=function(e){var t=document.createElement("div");return t.className="bmap-pan-control pan-bottom iconfont icon-arrow-down",t.onclick=function(t){e.panBy(0,-100),"function"===typeof n&&n()},e.getContainer().appendChild(t),t};var h=new p;return s.addControl(h),s.disableDoubleClickZoom(),s.disableDragging(),s},t.addMarker=function(e,t){var i,a=e.lng,n=e.lat,s=e.text,r=e.color,o=new BMap.Point(a,n);return i=new BMap.Marker(o),i.initialize=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.width="45px",t.style.height="45px",t.style.lineHeight="45px",t.style.fontSize="40px",t.style.textAlign="center",t.style.color=r,t.className="iconfont icon-dingwei",t.innerHTML='<b style="font-size:18px;position:absolute;top:0;left:0px;color:#fff;line-height:1.8;width:100%">'+s+"</b>",e.getPanes().markerPane.appendChild(t),t},i.draw=function(){var e=this.getPosition(),i=t.pointToOverlayPixel(e);this.domElement.style.left=i.x-22.5+"px",this.domElement.style.top=i.y-45+"px"},t.addOverlay(i),i},t.addMarker2=function(e,t){var i,a,n=e.lng,s=e.lat,r=e.start_point,d=e.color,c=new BMap.Point(n,s);return i=new BMap.Marker(c),i.initialize=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.width="20px",t.style.height="20px",t.style.lineHeight="20px",t.style.fontSize="20px",t.style.textAlign="center",t.style.color=d;var i=e.pointToOverlayPixel(c),n=e.pointToOverlayPixel(r),s=o(n,i);return r=c,a=s+13,t.style.transform="rotate("+a%360+"deg)",t.style.transformOrigin=i.x-10+"px "+i.y-7.1875+"px",t.className="iconfont icon-dingwei1",e.getPanes().markerPane.appendChild(t),t},i.draw=function(){var e=this.getPosition(),i=t.pointToOverlayPixel(e),n=t.pointToOverlayPixel(r),s=o(n,i);r=e,a=s+13,this.domElement.style.transform="rotate("+a%360+"deg)";var d=t.pointToOverlayPixel(e);this.domElement.style.left=d.x-10+"px",this.domElement.style.top=d.y-7.1875+"px"},t.addOverlay(i),i},t.calRotation=o,t.clearWatch=function(){if("undefined"===typeof a)return;n.clearWatch(a)},t.getPointNearby=t.getPointByIp=t.getPointByAddress=t.getAddressByPoint=t.getAddressByKeyword=t.convertPoint=void 0,t.getPosition=function(e,t){if(n){var i=t?"getCurrentPosition":"watchPosition",s=n[i]((function(t){(function(t,i){d(t,i).then((function(t){if(0==t.status){var i={code:1e4,message:"",result:{lng:t.result[0].x,lat:t.result[0].y}};e(i)}else{e({code:10001,message:"坐标转换失败",result:""})}})).catch((function(t){e({code:10001,message:"调用坐标转换接口失败",result:""})}))})(t.coords.longitude,t.coords.latitude)}),(function(t){var i="";switch(t.code){case t.PERMISSION_DENIED:i="定位请求拒绝";break;case t.POSITION_UNAVAILABLE:i="定位获取失败";break;case t.TIMEOUT:i="定位超时";break;default:i="未知错误";break}var a={code:10001,message:i,result:""};e(a)}),{enableHighAcuracy:!0,timeout:5e3,maximumAge:1e3});t||(a=s)}else{e({code:10001,message:"定位不支持",result:""})}};var a,n,s=i("6e6d"),r=i("80dc");function o(e,t){var i=e.x,a=e.y,n=t.x,s=t.y,r=Math.abs(i-n),o=Math.abs(a-s),d=Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),c=o/d,l=Math.acos(c),u=Math.floor(180/(Math.PI/l));return n>i&&s>a&&(u=180-u),n===i&&s>a&&(u=180),n>i&&s===a&&(u=90),n<i&&s>a&&(u=180+u),n<i&&s===a&&(u=270),n<i&&s<a&&(u=360-u),u}n=navigator.geolocation;t.getAddressByPoint=function(e){return(0,s.requestRaw)(r.env.SITE_URL+"/bmap/reverse_geocoding/v3/","GET",{location:e,output:"json",ak:r.env.BMAP_AK,latest_admin:1})};t.getPointByAddress=function(e){return(0,s.requestRaw)(r.env.SITE_URL+"/bmap/geocoding/v3/","GET",{address:e,output:"json",ak:r.env.BMAP_AK,latest_admin:1})};t.getAddressByKeyword=function(e,t){return(0,s.requestRaw)(r.env.SITE_URL+"/bmap/place/v2/suggestion","GET",{query:e,region:t,city_limit:!0,output:"json",ak:r.env.BMAP_AK})};t.getPointByIp=function(){return(0,s.requestRaw)(r.env.SITE_URL+"/bmap/location/ip","GET",{coor:"bd09ll",ak:r.env.BMAP_AK})};t.getPointNearby=function(e){return(0,s.requestRaw)(r.env.SITE_URL+"/bmap/place/v2/search","GET",{query:"宾馆$酒店$住宅$餐饮$生活娱乐$公司$商务$学校$大厦$公寓$写字楼",output:"json",location:e,ak:r.env.BMAP_AK})};var d=function(e,t){return(0,s.requestRaw)(r.env.SITE_URL+"/bmap/geoconv/v1/","GET",{coords:e+","+t,output:"json",from:1,to:5,ak:r.env.BMAP_AK})};t.convertPoint=d},ece8:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var a={uniPopup:i("cabf").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("uni-popup",{ref:"currentValue",attrs:{"background-color":"#fff",type:"bottom"}},[i("v-uni-view",{staticClass:"picker"},[i("v-uni-view",{staticClass:"div toolbar"},[i("v-uni-text",{staticClass:"button toolbar-item cancel-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")]),i("v-uni-view",{staticClass:"div picker-header"},[e._v("请选择地区")]),i("v-uni-text",{staticClass:"button toolbar-item confirm-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("确定")])],1),i("v-uni-picker-view",{staticClass:"popup-content",attrs:{"indicator-style":"height:80rpx",value:e.areaPicker},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onValuesChange.apply(void 0,arguments)}}},e._l(e.buildItems,(function(t,a){return i("v-uni-picker-view-column",{key:a},e._l(t.values,(function(t,a){return i("v-uni-view",{key:a,staticClass:"popup-item-wrapper"},[i("v-uni-text",{staticClass:"popup-item"},[e._v(e._s(t.area_name))])],1)})),1)})),1)],1)],1)},s=[]},fd99:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.status-holder[data-v-3e6c03f6]{background-color:#fff}.member-base[data-v-3e6c03f6]{display:flex;flex-direction:column}.content[data-v-3e6c03f6]{flex:1}.item-wrap[data-v-3e6c03f6]{position:relative}.image[data-v-3e6c03f6]{width:1rem;height:1rem;display:block;margin-left:auto;margin-right:auto;margin-top:.2rem;margin-bottom:.2rem}.icon[data-v-3e6c03f6]{position:absolute;right:.8rem;top:.2rem;font-size:.5rem;line-height:.7rem;width:.9rem;height:.7rem;background:#ef3338;border-radius:1rem;text-align:center;color:#fff}',""]),e.exports=t}}]);